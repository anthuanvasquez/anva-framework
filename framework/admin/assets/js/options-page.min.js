jQuery(document).ready(function(e){"use strict";var t={init:function(){t.extras(),t.stickyActions()},settingsChange:function(){e("input, select, textarea").on("change",function(){e("#anva-framework-change").show(400)})},extras:function(){var a=e("#code_editor_mode").val(),i=document.querySelector(".anva-code-editor");CodeMirror.fromTextArea(i,{mode:a,theme:"mdn-like",lineNumbers:!0});e(document).on("click",".reset-button",function(t){t.preventDefault();var a=e(this).closest("form");swal({title:anvaJs.save_button_title,text:anvaJs.save_button_text,type:"warning",showCancelButton:!0,confirmButtonColor:"#0085ba",confirmButtonText:anvaJs.save_button_confirm,cancelButtonText:anvaJs.save_button_cancel,cancelButtonColor:"#f7f7f7",closeOnConfirm:!0,closeOnCancel:!0},function(e){e&&(a.append('<input type="hidden" name="reset" value="true" />'),a.submit())})}),e(document).on("click",".import-button",function(t){t.preventDefault();var a=e(this).closest("form");return""===e("#section-import_settings textarea").val()?(swal({title:anvaJs.import_empty_title,text:anvaJs.import_empty_text,type:"info",showConfirmButton:!0,confirmButtonColor:"#0085ba"}),!1):void swal({title:anvaJs.import_button_title,text:anvaJs.import_button_text,type:"warning",showCancelButton:!0,confirmButtonColor:"#0085ba",confirmButtonText:anvaJs.import_button_confirm,cancelButtonText:anvaJs.import_button_cancel,cancelButtonColor:"#f7f7f7",closeOnConfirm:!0,closeOnCancel:!0},function(e){e&&(a.append('<input type="hidden" name="import" value="true" />'),a.submit())})}),e(".animsition").animsition({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(e){window.location.href=e}}),e("#anva-framework-submit input.button-primary").click(function(){e(this).val(anvaJs.save_button),e("#anva-framework-submit .spinner").addClass("is-active")}),e(".inner-group > h3").on("click",function(t){t.preventDefault();var a=e(this),i=a.closest(".postbox");i.hasClass("collapse-close")?(i.removeClass("collapse-close"),"undefined"!=typeof localStorage&&localStorage.removeItem("anva-section-"+i.attr("id")),i.find(".section-css").each(function(){var t=e(this).find("textarea").data("CodeMirrorInstance");t&&t.refresh()})):(i.addClass("collapse-close"),"undefined"!=typeof localStorage&&localStorage.setItem("anva-section-"+i.attr("id"),!0))}),e("#anva-framework .postbox").each(function(){var t=e(this);"undefined"!=typeof localStorage&&localStorage.getItem("anva-section-"+t.attr("id"))&&t.addClass("collapse-close")}),e(".nav-tab-wrapper").length>0&&t.tabs()},tabs:function(){var t=e(".group"),a=e(".nav-tab-wrapper a"),i="";t.hide(),"undefined"!=typeof localStorage&&(i=localStorage.getItem("active_tab")),""!==i&&e(i).length?(e(i).fadeIn(),e(i+"-tab").addClass("nav-tab-active")):(e(".group:first").fadeIn(),e(".nav-tab-wrapper a:first").addClass("nav-tab-active")),a.click(function(i){i.preventDefault(),a.removeClass("nav-tab-active"),e(this).addClass("nav-tab-active").blur(),"undefined"!=typeof localStorage&&localStorage.setItem("active_tab",e(this).attr("href"));var s=e(this).attr("href");e(".wp-editor-wrap").each(function(){var t=e(this).find("iframe");t.height()<30&&t.css({height:"auto"})}),t.hide(),e(s).fadeIn()})},stickyActions:function(){var t=e("#anva-framework .options-settings > .columns-2"),a=e("#anva-framework .postbox-wrapper");e(window).scrollTop()>115?(t.css({position:"absolute",top:0,right:0,"z-index":99}),a.css({position:"fixed",top:"40px"})):(t.css({position:"static"}),a.css({position:"static"}))}};t.init(),e(window).scroll(function(){t.stickyActions()})});
