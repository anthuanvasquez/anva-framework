!function(e){e.fn.camera=function(t,a){function i(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)?!0:void 0}function n(){var t=e(D).width();e("li",D).removeClass("camera_visThumb"),e("li",D).each(function(){var a=e(this).position(),i=e("ul",D).outerWidth(),n=e("ul",D).offset().left,o=e("> div",D).offset().left,s=o-n;s>0?e(".camera_prevThumbs",X).removeClass("hideNav"):e(".camera_prevThumbs",X).addClass("hideNav"),i-s>t?e(".camera_nextThumbs",X).removeClass("hideNav"):e(".camera_nextThumbs",X).addClass("hideNav");var r=a.left,l=a.left+e(this).width();t>=l-s&&r-s>=0&&e(this).addClass("camera_visThumb")})}function o(){function a(){if(g=u.width(),-1!=t.height.indexOf("%")){var a=Math.round(g/(100/parseFloat(t.height)));v=""!=t.minHeight&&a<parseFloat(t.minHeight)?parseFloat(t.minHeight):a,u.css({height:v})}else"auto"==t.height?v=u.height():(v=parseFloat(t.height),u.css({height:v}));e(".camerarelative",y).css({width:g,height:v}),e(".imgLoaded",y).each(function(){var a,i,n=e(this),o=n.attr("width"),s=n.attr("height"),r=(n.index(),n.attr("data-alignment")),l=n.attr("data-portrait");if(("undefined"==typeof r||r===!1||""===r)&&(r=t.alignment),("undefined"==typeof l||l===!1||""===l)&&(l=t.portrait),0==l||"false"==l)if(g/v>o/s){var c=g/o,d=.5*Math.abs(v-s*c);switch(r){case"topLeft":a=0;break;case"topCenter":a=0;break;case"topRight":a=0;break;case"centerLeft":a="-"+d+"px";break;case"center":a="-"+d+"px";break;case"centerRight":a="-"+d+"px";break;case"bottomLeft":a="-"+2*d+"px";break;case"bottomCenter":a="-"+2*d+"px";break;case"bottomRight":a="-"+2*d+"px"}n.css({height:s*c,"margin-left":0,"margin-right":0,"margin-top":a,position:"absolute",visibility:"visible",width:g})}else{var c=v/s,d=.5*Math.abs(g-o*c);switch(r){case"topLeft":i=0;break;case"topCenter":i="-"+d+"px";break;case"topRight":i="-"+2*d+"px";break;case"centerLeft":i=0;break;case"center":i="-"+d+"px";break;case"centerRight":i="-"+2*d+"px";break;case"bottomLeft":i=0;break;case"bottomCenter":i="-"+d+"px";break;case"bottomRight":i="-"+2*d+"px"}n.css({height:v,"margin-left":i,"margin-right":i,"margin-top":0,position:"absolute",visibility:"visible",width:o*c})}else if(g/v>o/s){var c=v/s,d=.5*Math.abs(g-o*c);switch(r){case"topLeft":i=0;break;case"topCenter":i=d+"px";break;case"topRight":i=2*d+"px";break;case"centerLeft":i=0;break;case"center":i=d+"px";break;case"centerRight":i=2*d+"px";break;case"bottomLeft":i=0;break;case"bottomCenter":i=d+"px";break;case"bottomRight":i=2*d+"px"}n.css({height:v,"margin-left":i,"margin-right":i,"margin-top":0,position:"absolute",visibility:"visible",width:o*c})}else{var c=g/o,d=.5*Math.abs(v-s*c);switch(r){case"topLeft":a=0;break;case"topCenter":a=0;break;case"topRight":a=0;break;case"centerLeft":a=d+"px";break;case"center":a=d+"px";break;case"centerRight":a=d+"px";break;case"bottomLeft":a=2*d+"px";break;case"bottomCenter":a=2*d+"px";break;case"bottomRight":a=2*d+"px"}n.css({height:s*c,"margin-left":0,"margin-right":0,"margin-top":a,position:"absolute",visibility:"visible",width:g})}})}var i;1==H?(clearTimeout(i),i=setTimeout(a,200)):a(),H=!0}function s(){e("iframe",p).each(function(){e(".camera_caption",p).show();var a=e(this),i=a.attr("data-src");a.attr("src",i);var n=t.imagePath+"blank.gif",o=new Image;if(o.src=n,-1!=t.height.indexOf("%")){var s=Math.round(g/(100/parseFloat(t.height)));v=""!=t.minHeight&&s<parseFloat(t.minHeight)?parseFloat(t.minHeight):s}else v="auto"==t.height?u.height():parseFloat(t.height);a.after(e(o).attr({"class":"imgFake",width:g,height:v}));var r=a.clone();a.remove(),e(o).bind("click",function(){"absolute"==e(this).css("position")?(e(this).remove(),-1!=i.indexOf("vimeo")||-1!=i.indexOf("youtube")?-1!=i.indexOf("?")?autoplay="&autoplay=1":autoplay="?autoplay=1":-1!=i.indexOf("dailymotion")&&(-1!=i.indexOf("?")?autoplay="&autoPlay=1":autoplay="?autoPlay=1"),r.attr("src",i+autoplay),Q=!0):(e(this).css({position:"absolute",top:0,left:0,zIndex:10}).after(r),r.css({position:"absolute",top:0,left:0,zIndex:9}))})})}function r(e){for(var t,a,i=e.length;i;t=parseInt(Math.random()*i),a=e[--i],e[i]=e[t],e[t]=a);return e}function l(){if(e(D).length&&!e(P).length){var t,a=e(D).outerWidth(),i=(e("ul > li",D).outerWidth(),e("li.cameracurrent",D).length?e("li.cameracurrent",D).position():""),o=e("ul > li",D).length*e("ul > li",D).outerWidth(),s=e("ul",D).offset().left,r=e("> div",D).offset().left;t=0>s?"-"+(r-s):r-s,1==ne&&(e("ul",D).width(e("ul > li",D).length*e("ul > li",D).outerWidth()),e(D).length&&!e(P).lenght&&u.css({marginBottom:e(D).outerHeight()}),n(),e("ul",D).width(e("ul > li",D).length*e("ul > li",D).outerWidth()),e(D).length&&!e(P).lenght&&u.css({marginBottom:e(D).outerHeight()})),ne=!1;var l=e("li.cameracurrent",D).length?i.left:"",c=e("li.cameracurrent",D).length?i.left+e("li.cameracurrent",D).outerWidth():"";l<e("li.cameracurrent",D).outerWidth()&&(l=0),c-t>a?o>l+a?e("ul",D).animate({"margin-left":"-"+l+"px"},500,n):e("ul",D).animate({"margin-left":"-"+(e("ul",D).outerWidth()-a)+"px"},500,n):0>l-t?e("ul",D).animate({"margin-left":"-"+l+"px"},500,n):(e("ul",D).css({"margin-left":"auto","margin-right":"auto"}),setTimeout(n,100))}}function c(){ee=0;var a=e(".camera_bar_cont",X).width(),i=e(".camera_bar_cont",X).height();if("pie"!=f)switch(J){case"leftToRight":e("#"+b).css({right:a});break;case"rightToLeft":e("#"+b).css({left:a});break;case"topToBottom":e("#"+b).css({bottom:i});break;case"bottomToTop":e("#"+b).css({top:i})}else ae.clearRect(0,0,t.pieDiameter,t.pieDiameter)}function d(a){C.addClass("camerasliding"),Q=!1;var n=parseFloat(e("div.cameraSlide.cameracurrent",y).index());if(a>0)var h=a-1;else if(n==j-1)var h=0;else var h=n+1;var m=e(".cameraSlide:eq("+h+")",y),w=e(".cameraSlide:eq("+(h+1)+")",y).addClass("cameranext");if(n!=h+1&&w.hide(),e(".cameraContent",p).fadeOut(600),e(".camera_caption",p).show(),e(".camerarelative",m).append(e("> div ",C).eq(h).find("> div.camera_effected")),e(".camera_target_content .cameraContent:eq("+h+")",u).append(e("> div ",C).eq(h).find("> div")),e(".imgLoaded",m).length){if(N.length>h+1&&!e(".imgLoaded",w).length){var x=N[h+1],_=new Image;_.src=x+"?"+(new Date).getTime(),w.prepend(e(_).attr("class","imgLoaded").css("visibility","hidden")),_.onload=function(){Ce=_.naturalWidth,ye=_.naturalHeight,e(_).attr("data-alignment",L[h+1]).attr("data-portrait",E[h+1]),e(_).attr("width",Ce),e(_).attr("height",ye),o()}}t.onLoaded.call(this),e(".camera_loader",u).is(":visible")?e(".camera_loader",u).fadeOut(400):(e(".camera_loader",u).css({visibility:"hidden"}),e(".camera_loader",u).fadeOut(400,function(){e(".camera_loader",u).css({visibility:"visible"})}));var T,k,A,S,q,O=t.rows,B=t.cols,M=1,I=0,F=new Array("simpleFade","curtainTopLeft","curtainTopRight","curtainBottomLeft","curtainBottomRight","curtainSliceLeft","curtainSliceRight","blindCurtainTopLeft","blindCurtainTopRight","blindCurtainBottomLeft","blindCurtainBottomRight","blindCurtainSliceBottom","blindCurtainSliceTop","stampede","mosaic","mosaicReverse","mosaicRandom","mosaicSpiral","mosaicSpiralReverse","topLeftBottomRight","bottomRightTopLeft","bottomLeftTopRight","topRightBottomLeft","scrollLeft","scrollRight","scrollTop","scrollBottom","scrollHorz");marginLeft=0,marginTop=0,opacityOnGrid=0,1==t.opacityOnGrid?opacityOnGrid=0:opacityOnGrid=1;var H=e(" > div",C).eq(h).attr("data-fx");if(S=i()&&""!=t.mobileFx&&"default"!=t.mobileFx?t.mobileFx:"undefined"!=typeof H&&H!==!1&&"default"!==H?H:t.fx,"random"==S?(S=r(F),S=S[0]):(S=S,S.indexOf(",")>0&&(S=S.replace(/ /g,""),S=S.split(","),S=r(S),S=S[0])),dataEasing=e(" > div",C).eq(h).attr("data-easing"),mobileEasing=e(" > div",C).eq(h).attr("data-mobileEasing"),q=i()&&""!=t.mobileEasing&&"default"!=t.mobileEasing?"undefined"!=typeof mobileEasing&&mobileEasing!==!1&&"default"!==mobileEasing?mobileEasing:t.mobileEasing:"undefined"!=typeof dataEasing&&dataEasing!==!1&&"default"!==dataEasing?dataEasing:t.easing,T=e(" > div",C).eq(h).attr("data-slideOn"),"undefined"!=typeof T&&T!==!1)V=T;else if("random"==t.slideOn){var V=new Array("next","prev");V=r(V),V=V[0]}else V=t.slideOn;var U=e(" > div",C).eq(h).attr("data-time");k="undefined"!=typeof U&&U!==!1&&""!==U?parseFloat(U):t.time;var $=e(" > div",C).eq(h).attr("data-transPeriod");switch(A="undefined"!=typeof $&&$!==!1&&""!==$?parseFloat($):t.transPeriod,e(C).hasClass("camerastarted")||(S="simpleFade",V="next",q="",A=400,e(C).addClass("camerastarted")),S){case"simpleFade":B=1,O=1;break;case"curtainTopLeft":B=0==t.slicedCols?t.cols:t.slicedCols,O=1;break;case"curtainTopRight":B=0==t.slicedCols?t.cols:t.slicedCols,O=1;break;case"curtainBottomLeft":B=0==t.slicedCols?t.cols:t.slicedCols,O=1;break;case"curtainBottomRight":B=0==t.slicedCols?t.cols:t.slicedCols,O=1;break;case"curtainSliceLeft":B=0==t.slicedCols?t.cols:t.slicedCols,O=1;break;case"curtainSliceRight":B=0==t.slicedCols?t.cols:t.slicedCols,O=1;break;case"blindCurtainTopLeft":O=0==t.slicedRows?t.rows:t.slicedRows,B=1;break;case"blindCurtainTopRight":O=0==t.slicedRows?t.rows:t.slicedRows,B=1;break;case"blindCurtainBottomLeft":O=0==t.slicedRows?t.rows:t.slicedRows,B=1;break;case"blindCurtainBottomRight":O=0==t.slicedRows?t.rows:t.slicedRows,B=1;break;case"blindCurtainSliceTop":O=0==t.slicedRows?t.rows:t.slicedRows,B=1;break;case"blindCurtainSliceBottom":O=0==t.slicedRows?t.rows:t.slicedRows,B=1;break;case"stampede":I="-"+A;break;case"mosaic":I=t.gridDifference;break;case"mosaicReverse":I=t.gridDifference;break;case"mosaicRandom":break;case"mosaicSpiral":I=t.gridDifference,M=1.7;break;case"mosaicSpiralReverse":I=t.gridDifference,M=1.7;break;case"topLeftBottomRight":I=t.gridDifference,M=6;break;case"bottomRightTopLeft":I=t.gridDifference,M=6;break;case"bottomLeftTopRight":I=t.gridDifference,M=6;break;case"topRightBottomLeft":I=t.gridDifference,M=6;break;case"scrollLeft":B=1,O=1;break;case"scrollRight":B=1,O=1;break;case"scrollTop":B=1,O=1;break;case"scrollBottom":B=1,O=1;break;case"scrollHorz":B=1,O=1}for(var K,Y,Z=0,ie=O*B,ne=g-Math.floor(g/B)*B,oe=v-Math.floor(v/O)*O,se=0,re=0,le=new Array,ce=new Array,de=new Array;ie>Z;){le.push(Z),ce.push(Z),R.append('<div class="cameraappended" style="display:none; overflow:hidden; position:absolute; z-index:1000" />');var he=e(".cameraappended:eq("+Z+")",y);"scrollLeft"==S||"scrollRight"==S||"scrollTop"==S||"scrollBottom"==S||"scrollHorz"==S?G.eq(h).clone().show().appendTo(he):"next"==V?G.eq(h).clone().show().appendTo(he):G.eq(n).clone().show().appendTo(he),K=ne>Z%B?1:0,Z%B==0&&(se=0),Y=Math.floor(Z/B)<oe?1:0,he.css({height:Math.floor(v/O+Y+1),left:se,top:re,width:Math.floor(g/B+K+1)}),e("> .cameraSlide",he).css({height:v,"margin-left":"-"+se+"px","margin-top":"-"+re+"px",width:g}),se=se+he.width()-1,Z%B==B-1&&(re=re+he.height()-1),Z++}switch(S){case"curtainTopLeft":break;case"curtainBottomLeft":break;case"curtainSliceLeft":break;case"curtainTopRight":le=le.reverse();break;case"curtainBottomRight":le=le.reverse();break;case"curtainSliceRight":le=le.reverse();break;case"blindCurtainTopLeft":break;case"blindCurtainBottomLeft":le=le.reverse();break;case"blindCurtainSliceTop":break;case"blindCurtainTopRight":break;case"blindCurtainBottomRight":le=le.reverse();break;case"blindCurtainSliceBottom":le=le.reverse();break;case"stampede":le=r(le);break;case"mosaic":break;case"mosaicReverse":le=le.reverse();break;case"mosaicRandom":le=r(le);break;case"mosaicSpiral":var ue,pe,me,fe=O/2,ge=0;for(me=0;fe>me;me++){for(pe=me,ue=me;B-me-1>ue;ue++)de[ge++]=pe*B+ue;for(ue=B-me-1,pe=me;O-me-1>pe;pe++)de[ge++]=pe*B+ue;for(pe=O-me-1,ue=B-me-1;ue>me;ue--)de[ge++]=pe*B+ue;for(ue=me,pe=O-me-1;pe>me;pe--)de[ge++]=pe*B+ue}le=de;break;case"mosaicSpiralReverse":var ue,pe,me,fe=O/2,ge=ie-1;for(me=0;fe>me;me++){for(pe=me,ue=me;B-me-1>ue;ue++)de[ge--]=pe*B+ue;for(ue=B-me-1,pe=me;O-me-1>pe;pe++)de[ge--]=pe*B+ue;for(pe=O-me-1,ue=B-me-1;ue>me;ue--)de[ge--]=pe*B+ue;for(ue=me,pe=O-me-1;pe>me;pe--)de[ge--]=pe*B+ue}le=de;break;case"topLeftBottomRight":for(var pe=0;O>pe;pe++)for(var ue=0;B>ue;ue++)de.push(ue+pe);ce=de;break;case"bottomRightTopLeft":for(var pe=0;O>pe;pe++)for(var ue=0;B>ue;ue++)de.push(ue+pe);ce=de.reverse();break;case"bottomLeftTopRight":for(var pe=O;pe>0;pe--)for(var ue=0;B>ue;ue++)de.push(ue+pe);ce=de;break;case"topRightBottomLeft":for(var pe=0;O>pe;pe++)for(var ue=B;ue>0;ue--)de.push(ue+pe);ce=de}e.each(le,function(a,i){function o(){if(e(this).addClass("cameraeased"),e(".cameraeased",y).length>=0&&e(D).css({visibility:"visible"}),e(".cameraeased",y).length==ie){l(),e(".moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom",p).each(function(){e(this).css("visibility","hidden")}),G.eq(h).show().css("z-index","999").removeClass("cameranext").addClass("cameracurrent"),G.eq(n).css("z-index","1").removeClass("cameracurrent"),e(".cameraContent",p).eq(h).addClass("cameracurrent"),n>=0&&e(".cameraContent",p).eq(n).removeClass("cameracurrent"),t.onEndTransition.call(this),"hide"!=e("> div",C).eq(h).attr("data-video")&&e(".cameraContent.cameracurrent .imgFake",p).length&&e(".cameraContent.cameracurrent .imgFake",p).click();var a=G.eq(h).find(".fadeIn").length,i=e(".cameraContent",p).eq(h).find(".moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom").length;0!=a&&e(".cameraSlide.cameracurrent .fadeIn",p).each(function(){if(""!=e(this).attr("data-easing"))var t=e(this).attr("data-easing");else var t=q;var i=e(this);if("undefined"==typeof i.attr("data-outerWidth")||i.attr("data-outerWidth")===!1||""===i.attr("data-outerWidth")){var n=i.outerWidth();i.attr("data-outerWidth",n)}else var n=i.attr("data-outerWidth");if("undefined"==typeof i.attr("data-outerHeight")||i.attr("data-outerHeight")===!1||""===i.attr("data-outerHeight")){var o=i.outerHeight();i.attr("data-outerHeight",o)}else var o=i.attr("data-outerHeight");var s=i.position(),r=(s.left,s.top,i.attr("class")),l=i.index();i.parents(".camerarelative").outerHeight(),i.parents(".camerarelative").outerWidth();-1!=r.indexOf("fadeIn")?i.animate({opacity:0},0).css("visibility","visible").delay(k/a*.1*(l-1)).animate({opacity:1},k/a*.15,t):i.css("visibility","visible")}),e(".cameraContent.cameracurrent",p).show(),0!=i&&e(".cameraContent.cameracurrent .moveFromLeft, .cameraContent.cameracurrent .moveFromRight, .cameraContent.cameracurrent .moveFromTop, .cameraContent.cameracurrent .moveFromBottom, .cameraContent.cameracurrent .fadeIn, .cameraContent.cameracurrent .fadeFromLeft, .cameraContent.cameracurrent .fadeFromRight, .cameraContent.cameracurrent .fadeFromTop, .cameraContent.cameracurrent .fadeFromBottom",p).each(function(){if(""!=e(this).attr("data-easing"))var t=e(this).attr("data-easing");else var t=q;var a=e(this),n=a.position(),o=(n.left,n.top,a.attr("class")),s=a.index(),r=a.outerHeight();-1!=o.indexOf("moveFromLeft")?(a.css({left:"-"+g+"px",right:"auto"}),a.css("visibility","visible").delay(k/i*.1*(s-1)).animate({left:n.left},k/i*.15,t)):-1!=o.indexOf("moveFromRight")?(a.css({left:g+"px",right:"auto"}),a.css("visibility","visible").delay(k/i*.1*(s-1)).animate({left:n.left},k/i*.15,t)):-1!=o.indexOf("moveFromTop")?(a.css({top:"-"+v+"px",bottom:"auto"}),a.css("visibility","visible").delay(k/i*.1*(s-1)).animate({top:n.top},k/i*.15,t,function(){a.css({top:"auto",bottom:0})})):-1!=o.indexOf("moveFromBottom")?(a.css({top:v+"px",bottom:"auto"}),a.css("visibility","visible").delay(k/i*.1*(s-1)).animate({top:n.top},k/i*.15,t)):-1!=o.indexOf("fadeFromLeft")?(a.animate({opacity:0},0).css({left:"-"+g+"px",right:"auto"}),a.css("visibility","visible").delay(k/i*.1*(s-1)).animate({left:n.left,opacity:1},k/i*.15,t)):-1!=o.indexOf("fadeFromRight")?(a.animate({opacity:0},0).css({left:g+"px",right:"auto"}),a.css("visibility","visible").delay(k/i*.1*(s-1)).animate({left:n.left,opacity:1},k/i*.15,t)):-1!=o.indexOf("fadeFromTop")?(a.animate({opacity:0},0).css({top:"-"+v+"px",bottom:"auto"}),a.css("visibility","visible").delay(k/i*.1*(s-1)).animate({top:n.top,opacity:1},k/i*.15,t,function(){a.css({top:"auto",bottom:0})})):-1!=o.indexOf("fadeFromBottom")?(a.animate({opacity:0},0).css({bottom:"-"+r+"px"}),a.css("visibility","visible").delay(k/i*.1*(s-1)).animate({bottom:"0",opacity:1},k/i*.15,t)):-1!=o.indexOf("fadeIn")?a.animate({opacity:0},0).css("visibility","visible").delay(k/i*.1*(s-1)).animate({opacity:1},k/i*.15,t):a.css("visibility","visible")}),e(".cameraappended",y).remove(),C.removeClass("camerasliding"),G.eq(n).hide();var o,r=e(".camera_bar_cont",X).width(),u=e(".camera_bar_cont",X).height();o="pie"!=f?.05:.005,e("#"+b).animate({opacity:t.loaderOpacity},200),z=setInterval(function(){if(C.hasClass("stopped")&&clearInterval(z),"pie"!=f)switch(1.002>=ee&&!C.hasClass("stopped")&&!C.hasClass("paused")&&!C.hasClass("hovered")?ee+=o:1>=ee&&(C.hasClass("stopped")||C.hasClass("paused")||C.hasClass("stopped")||C.hasClass("hovered"))?ee=ee:C.hasClass("stopped")||C.hasClass("paused")||C.hasClass("hovered")||(clearInterval(z),s(),e("#"+b).animate({opacity:0},200,function(){clearTimeout(W),W=setTimeout(c,m),d(),t.onStartLoading.call(this)})),J){case"leftToRight":e("#"+b).animate({right:r-r*ee},k*o,"linear");break;case"rightToLeft":e("#"+b).animate({left:r-r*ee},k*o,"linear");break;case"topToBottom":e("#"+b).animate({bottom:u-u*ee},k*o,"linear");break;case"bottomToTop":e("#"+b).animate({bottom:u-u*ee},k*o,"linear")}else te=ee,ae.clearRect(0,0,t.pieDiameter,t.pieDiameter),ae.globalCompositeOperation="destination-over",ae.beginPath(),ae.arc(t.pieDiameter/2,t.pieDiameter/2,t.pieDiameter/2-t.loaderStroke,0,2*Math.PI,!1),ae.lineWidth=t.loaderStroke,ae.strokeStyle=t.loaderBgColor,ae.stroke(),ae.closePath(),ae.globalCompositeOperation="source-over",ae.beginPath(),ae.arc(t.pieDiameter/2,t.pieDiameter/2,t.pieDiameter/2-t.loaderStroke,0,2*Math.PI*te,!1),ae.lineWidth=t.loaderStroke-2*t.loaderPadding,ae.strokeStyle=t.loaderColor,ae.stroke(),ae.closePath(),1.002>=ee&&!C.hasClass("stopped")&&!C.hasClass("paused")&&!C.hasClass("hovered")?ee+=o:1>=ee&&(C.hasClass("stopped")||C.hasClass("paused")||C.hasClass("hovered"))?ee=ee:C.hasClass("stopped")||C.hasClass("paused")||C.hasClass("hovered")||(clearInterval(z),s(),e("#"+b+", .camera_canvas_wrap",X).animate({opacity:0},200,function(){clearTimeout(W),W=setTimeout(c,m),d(),t.onStartLoading.call(this)}))},k*o)}}switch(K=ne>i%B?1:0,i%B==0&&(se=0),Y=Math.floor(i/B)<oe?1:0,S){case"simpleFade":height=v,width=g,opacityOnGrid=0;break;case"curtainTopLeft":height=0,width=Math.floor(g/B+K+1),marginTop="-"+Math.floor(v/O+Y+1)+"px";break;case"curtainTopRight":height=0,width=Math.floor(g/B+K+1),marginTop="-"+Math.floor(v/O+Y+1)+"px";break;case"curtainBottomLeft":height=0,width=Math.floor(g/B+K+1),marginTop=Math.floor(v/O+Y+1)+"px";break;case"curtainBottomRight":height=0,width=Math.floor(g/B+K+1),marginTop=Math.floor(v/O+Y+1)+"px";break;case"curtainSliceLeft":height=0,width=Math.floor(g/B+K+1),i%2==0?marginTop=Math.floor(v/O+Y+1)+"px":marginTop="-"+Math.floor(v/O+Y+1)+"px";break;case"curtainSliceRight":height=0,width=Math.floor(g/B+K+1),i%2==0?marginTop=Math.floor(v/O+Y+1)+"px":marginTop="-"+Math.floor(v/O+Y+1)+"px";break;case"blindCurtainTopLeft":height=Math.floor(v/O+Y+1),width=0,marginLeft="-"+Math.floor(g/B+K+1)+"px";break;case"blindCurtainTopRight":height=Math.floor(v/O+Y+1),width=0,marginLeft=Math.floor(g/B+K+1)+"px";break;case"blindCurtainBottomLeft":height=Math.floor(v/O+Y+1),width=0,marginLeft="-"+Math.floor(g/B+K+1)+"px";break;case"blindCurtainBottomRight":height=Math.floor(v/O+Y+1),width=0,marginLeft=Math.floor(g/B+K+1)+"px";break;case"blindCurtainSliceBottom":height=Math.floor(v/O+Y+1),width=0,i%2==0?marginLeft="-"+Math.floor(g/B+K+1)+"px":marginLeft=Math.floor(g/B+K+1)+"px";break;case"blindCurtainSliceTop":height=Math.floor(v/O+Y+1),width=0,i%2==0?marginLeft="-"+Math.floor(g/B+K+1)+"px":marginLeft=Math.floor(g/B+K+1)+"px";break;case"stampede":height=0,width=0,marginLeft=.2*g*(a%B-(B-Math.floor(B/2)))+"px",marginTop=.2*v*(Math.floor(a/B)+1-(O-Math.floor(O/2)))+"px";break;case"mosaic":height=0,width=0;break;case"mosaicReverse":height=0,width=0,marginLeft=Math.floor(g/B+K+1)+"px",marginTop=Math.floor(v/O+Y+1)+"px";break;case"mosaicRandom":height=0,width=0,marginLeft=.5*Math.floor(g/B+K+1)+"px",marginTop=.5*Math.floor(v/O+Y+1)+"px";break;case"mosaicSpiral":height=0,width=0,marginLeft=.5*Math.floor(g/B+K+1)+"px",marginTop=.5*Math.floor(v/O+Y+1)+"px";break;case"mosaicSpiralReverse":height=0,width=0,marginLeft=.5*Math.floor(g/B+K+1)+"px",marginTop=.5*Math.floor(v/O+Y+1)+"px";break;case"topLeftBottomRight":height=0,width=0;break;case"bottomRightTopLeft":height=0,width=0,marginLeft=Math.floor(g/B+K+1)+"px",marginTop=Math.floor(v/O+Y+1)+"px";break;case"bottomLeftTopRight":height=0,width=0,marginLeft=0,marginTop=Math.floor(v/O+Y+1)+"px";break;case"topRightBottomLeft":height=0,width=0,marginLeft=Math.floor(g/B+K+1)+"px",marginTop=0;break;case"scrollRight":height=v,width=g,marginLeft=-g;break;case"scrollLeft":height=v,width=g,marginLeft=g;break;case"scrollTop":height=v,width=g,marginTop=v;break;case"scrollBottom":height=v,width=g,marginTop=-v;break;case"scrollHorz":height=v,width=g,0==n&&h==j-1?marginLeft=-g:h>n||n==j-1&&0==h?marginLeft=g:marginLeft=-g}var r=e(".cameraappended:eq("+i+")",y);"undefined"!=typeof z&&(clearInterval(z),clearTimeout(W),W=setTimeout(c,A+I)),e(P).length&&(e(".camera_pag li",u).removeClass("cameracurrent"),e(".camera_pag li",u).eq(h).addClass("cameracurrent")),e(D).length&&(e("li",D).removeClass("cameracurrent"),e("li",D).eq(h).addClass("cameracurrent"),e("li",D).not(".cameracurrent").find("img").animate({opacity:.5},0),e("li.cameracurrent img",D).animate({opacity:1},0),e("li",D).hover(function(){e("img",this).stop(!0,!1).animate({opacity:1},150)},function(){e(this).hasClass("cameracurrent")||e("img",this).stop(!0,!1).animate({opacity:.5},150)}));var m=parseFloat(A)+parseFloat(I);"scrollLeft"==S||"scrollRight"==S||"scrollTop"==S||"scrollBottom"==S||"scrollHorz"==S?(t.onStartTransition.call(this),m=0,r.delay((A+I)/ie*ce[a]*M*.5).css({display:"block",height:height,"margin-left":marginLeft,"margin-top":marginTop,width:width}).animate({height:Math.floor(v/O+Y+1),"margin-top":0,"margin-left":0,width:Math.floor(g/B+K+1)},A-I,q,o),G.eq(n).delay((A+I)/ie*ce[a]*M*.5).animate({"margin-left":-1*marginLeft,"margin-top":-1*marginTop},A-I,q,function(){e(this).css({"margin-top":0,"margin-left":0})})):(t.onStartTransition.call(this),m=parseFloat(A)+parseFloat(I),"next"==V?r.delay((A+I)/ie*ce[a]*M*.5).css({display:"block",height:height,"margin-left":marginLeft,"margin-top":marginTop,width:width,opacity:opacityOnGrid}).animate({height:Math.floor(v/O+Y+1),"margin-top":0,"margin-left":0,opacity:1,width:Math.floor(g/B+K+1)},A-I,q,o):(G.eq(h).show().css("z-index","999").addClass("cameracurrent"),G.eq(n).css("z-index","1").removeClass("cameracurrent"),e(".cameraContent",p).eq(h).addClass("cameracurrent"),e(".cameraContent",p).eq(n).removeClass("cameracurrent"),r.delay((A+I)/ie*ce[a]*M*.5).css({display:"block",height:Math.floor(v/O+Y+1),"margin-top":0,"margin-left":0,opacity:1,width:Math.floor(g/B+K+1)}).animate({height:height,"margin-left":marginLeft,"margin-top":marginTop,width:width,opacity:opacityOnGrid},A-I,q,o)))})}else{var ve=N[h],be=new Image;be.src=ve+"?"+(new Date).getTime(),m.css("visibility","hidden"),m.prepend(e(be).attr("class","imgLoaded").css("visibility","hidden"));var Ce,ye;e(be).get(0).complete&&"0"!=Ce&&"0"!=ye&&"undefined"!=typeof Ce&&Ce!==!1&&"undefined"!=typeof ye&&ye!==!1||(e(".camera_loader",u).delay(500).fadeIn(400),be.onload=function(){Ce=be.naturalWidth,ye=be.naturalHeight,e(be).attr("data-alignment",L[h]).attr("data-portrait",E[h]),e(be).attr("width",Ce),e(be).attr("height",ye),y.find(".cameraSlide_"+h).hide().css("visibility","visible"),o(),d(h+1)})}}var h={alignment:"center",autoAdvance:!0,mobileAutoAdvance:!0,barDirection:"leftToRight",barPosition:"bottom",cols:6,easing:"easeInOutExpo",mobileEasing:"",fx:"random",mobileFx:"",gridDifference:250,height:"50%",imagePath:"images/",hover:!0,loader:"pie",loaderColor:"#eeeeee",loaderBgColor:"#222222",loaderOpacity:.8,loaderPadding:2,loaderStroke:7,minHeight:"200px",navigation:!0,navigationHover:!0,mobileNavHover:!0,opacityOnGrid:!1,overlayer:!0,pagination:!0,playPause:!0,pauseOnClick:!0,pieDiameter:38,piePosition:"rightTop",portrait:!1,rows:4,slicedCols:12,slicedRows:8,slideOn:"random",thumbnails:!1,time:7e3,transPeriod:1500,onEndTransition:function(){},onLoaded:function(){},onStartLoading:function(){},onStartTransition:function(){}};e.support.borderRadius=!1,e.each(["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],function(){void 0!==document.body.style[this]&&(e.support.borderRadius=!0)});var t=e.extend({},h,t),u=e(this).addClass("camera_wrap");u.wrapInner('<div class="camera_src" />').wrapInner('<div class="camera_fakehover" />');var p=e(".camera_fakehover",u),m=u;p.append('<div class="camera_target"></div>'),1==t.overlayer&&p.append('<div class="camera_overlayer"></div>'),p.append('<div class="camera_target_content"></div>');var f;f="pie"!=t.loader||e.support.borderRadius?t.loader:"bar",p.append("pie"==f?'<div class="camera_pie"></div>':"bar"==f?'<div class="camera_bar"></div>':'<div class="camera_bar" style="display:none"></div>'),1==t.playPause&&p.append('<div class="camera_commands"></div>'),1==t.navigation&&p.append('<div class="camera_prev"><span></span></div>').append('<div class="camera_next"><span></span></div>'),1==t.thumbnails&&u.append('<div class="camera_thumbs_cont" />'),1==t.thumbnails&&1!=t.pagination&&e(".camera_thumbs_cont",u).wrap("<div />").wrap('<div class="camera_thumbs" />').wrap("<div />").wrap('<div class="camera_command_wrap" />'),1==t.pagination&&u.append('<div class="camera_pag"></div>'),u.append('<div class="camera_loader"></div>'),e(".camera_caption",u).each(function(){e(this).wrapInner("<div />")});var g,v,b="pie_"+u.index(),C=e(".camera_src",u),y=e(".camera_target",u),w=e(".camera_target_content",u),x=e(".camera_pie",u),_=e(".camera_bar",u),T=e(".camera_prev",u),k=e(".camera_next",u),A=e(".camera_commands",u),P=e(".camera_pag",u),D=e(".camera_thumbs_cont",u),N=new Array;e("> div",C).each(function(){N.push(e(this).attr("data-src"))});var S=new Array;e("> div",C).each(function(){S.push(e(this).attr("data-link")?e(this).attr("data-link"):"")});var q=new Array;e("> div",C).each(function(){q.push(e(this).attr("data-target")?e(this).attr("data-target"):"")});var E=new Array;e("> div",C).each(function(){E.push(e(this).attr("data-portrait")?e(this).attr("data-portrait"):"")});var L=new Array;e("> div",C).each(function(){L.push(e(this).attr("data-alignment")?e(this).attr("data-alignment"):"")});var O=new Array;e("> div",C).each(function(){O.push(e(this).attr("data-thumb")?e(this).attr("data-thumb"):"")});var j=N.length;e(w).append('<div class="cameraContents" />');var B;for(B=0;j>B;B++)if(e(".cameraContents",w).append('<div class="cameraContent" />'),""!=S[B]){var M=e("> div ",C).eq(B).attr("data-box");M="undefined"!=typeof M&&M!==!1&&""!=M?'data-box="'+e("> div ",C).eq(B).attr("data-box")+'"':"",e(".camera_target_content .cameraContent:eq("+B+")",u).append('<a class="camera_link" href="'+S[B]+'" '+M+' target="'+q[B]+'"></a>')}e(".camera_caption",u).each(function(){var t=e(this).parent().index(),a=u.find(".cameraContent").eq(t);e(this).appendTo(a)}),y.append('<div class="cameraCont" />');var I,R=e(".cameraCont",u);for(I=0;j>I;I++){R.append('<div class="cameraSlide cameraSlide_'+I+'" />');var F=e("> div:eq("+I+")",C);y.find(".cameraSlide_"+I).clone(F)}e(window).bind("load resize pageshow",function(){l(),n()}),R.append('<div class="cameraSlide cameraSlide_'+I+'" />');var H;u.show();var V,g=y.width(),v=y.height();e(window).bind("resize pageshow",function(){1==H&&o(),e("ul",D).animate({"margin-top":0},0,l),C.hasClass("paused")||(C.addClass("paused"),e(".camera_stop",X).length?(e(".camera_stop",X).hide(),e(".camera_play",X).show(),"none"!=f&&e("#"+b).hide()):"none"!=f&&e("#"+b).hide(),clearTimeout(V),V=setTimeout(function(){C.removeClass("paused"),e(".camera_play",X).length?(e(".camera_play",X).hide(),e(".camera_stop",X).show(),"none"!=f&&e("#"+b).fadeIn()):"none"!=f&&e("#"+b).fadeIn()},1500))});var z,W,U,$,A,P,K,Q;if(U=i()&&""!=t.mobileAutoAdvance?t.mobileAutoAdvance:t.autoAdvance,0==U&&C.addClass("paused"),$=i()&&""!=t.mobileNavHover?t.mobileNavHover:t.navigationHover,0!=C.length){var G=e(".cameraSlide",y);G.wrapInner('<div class="camerarelative" />');var J=t.barDirection,X=u;e("iframe",p).each(function(){var t=e(this),a=t.attr("src");t.attr("data-src",a);var i=t.parent().index(".camera_src > div");e(".camera_target_content .cameraContent:eq("+i+")",u).append(t)}),s(),1==t.hover&&(i()||p.hover(function(){C.addClass("hovered")},function(){C.removeClass("hovered")})),1==$&&(e(T,u).animate({opacity:0},0),e(k,u).animate({opacity:0},0),e(A,u).animate({opacity:0},0),i()?(e(document).on("vmouseover",m,function(){e(T,u).animate({opacity:1},200),e(k,u).animate({opacity:1},200),e(A,u).animate({opacity:1},200)}),e(document).on("vmouseout",m,function(){e(T,u).delay(500).animate({opacity:0},200),e(k,u).delay(500).animate({opacity:0},200),e(A,u).delay(500).animate({opacity:0},200)})):p.hover(function(){e(T,u).animate({opacity:1},200),e(k,u).animate({opacity:1},200),e(A,u).animate({opacity:1},200)},function(){e(T,u).animate({opacity:0},200),e(k,u).animate({opacity:0},200),e(A,u).animate({opacity:0},200)})),X.on("click",".camera_stop",function(){U=!1,C.addClass("paused"),e(".camera_stop",X).length?(e(".camera_stop",X).hide(),e(".camera_play",X).show(),"none"!=f&&e("#"+b).hide()):"none"!=f&&e("#"+b).hide()}),X.on("click",".camera_play",function(){U=!0,C.removeClass("paused"),e(".camera_play",X).length?(e(".camera_play",X).hide(),e(".camera_stop",X).show(),"none"!=f&&e("#"+b).show()):"none"!=f&&e("#"+b).show()}),1==t.pauseOnClick&&e(".camera_target_content",p).mouseup(function(){U=!1,C.addClass("paused"),e(".camera_stop",X).hide(),e(".camera_play",X).show(),e("#"+b).hide()}),e(".cameraContent, .imgFake",p).hover(function(){K=!0},function(){K=!1}),e(".cameraContent, .imgFake",p).bind("click",function(){1==Q&&1==K&&(U=!1,e(".camera_caption",p).hide(),C.addClass("paused"),e(".camera_stop",X).hide(),e(".camera_play",X).show(),e("#"+b).hide())})}if("pie"!=f){_.append('<span class="camera_bar_cont" />'),e(".camera_bar_cont",_).animate({opacity:t.loaderOpacity},0).css({position:"absolute",left:0,right:0,top:0,bottom:0,"background-color":t.loaderBgColor}).append('<span id="'+b+'" />'),e("#"+b).animate({opacity:0},0);var Y=e("#"+b);switch(Y.css({position:"absolute","background-color":t.loaderColor}),t.barPosition){case"left":_.css({right:"auto",width:t.loaderStroke});break;case"right":_.css({left:"auto",width:t.loaderStroke});break;case"top":_.css({bottom:"auto",height:t.loaderStroke});break;case"bottom":_.css({top:"auto",height:t.loaderStroke})}switch(J){case"leftToRight":Y.css({left:0,right:0,top:t.loaderPadding,bottom:t.loaderPadding});break;case"rightToLeft":Y.css({left:0,right:0,top:t.loaderPadding,bottom:t.loaderPadding});break;case"topToBottom":Y.css({left:t.loaderPadding,right:t.loaderPadding,top:0,bottom:0});break;case"bottomToTop":Y.css({left:t.loaderPadding,right:t.loaderPadding,top:0,bottom:0})}}else{x.append('<canvas id="'+b+'"></canvas>');var Y=document.getElementById(b);Y.setAttribute("width",t.pieDiameter),Y.setAttribute("height",t.pieDiameter);var Z;switch(t.piePosition){case"leftTop":Z="left:0; top:0;";break;case"rightTop":Z="right:0; top:0;";break;case"leftBottom":Z="left:0; bottom:0;";break;case"rightBottom":Z="right:0; bottom:0;"}Y.setAttribute("style","position:absolute; z-index:1002; "+Z);var ee,te;if(Y&&Y.getContext){var ae=Y.getContext("2d");ae.rotate(1.5*Math.PI),ae.translate(-t.pieDiameter,0)}}if(("none"==f||0==U)&&(e("#"+b).hide(),e(".camera_canvas_wrap",X).hide()),
e(P).length){e(P).append('<ul class="camera_pag_ul" />');var ie;for(ie=0;j>ie;ie++)e(".camera_pag_ul",u).append('<li class="pag_nav_'+ie+'" style="position:relative; z-index:1002"><span><span>'+ie+"</span></span></li>");e(".camera_pag_ul li",u).hover(function(){if(e(this).addClass("camera_hover"),e(".camera_thumb",this).length){var t=e(".camera_thumb",this).outerWidth(),a=e(".camera_thumb",this).outerHeight(),i=e(this).outerWidth();e(".camera_thumb",this).show().css({top:"-"+a+"px",left:"-"+(t-i)/2+"px"}).animate({opacity:1,"margin-top":"-3px"},200),e(".thumb_arrow",this).show().animate({opacity:1,"margin-top":"-3px"},200)}},function(){e(this).removeClass("camera_hover"),e(".camera_thumb",this).animate({"margin-top":"-20px",opacity:0},200,function(){e(this).css({marginTop:"5px"}).hide()}),e(".thumb_arrow",this).animate({"margin-top":"-20px",opacity:0},200,function(){e(this).css({marginTop:"5px"}).hide()})})}if(e(D).length){e(P).length?(e.each(O,function(t,a){if(""!=e("> div",C).eq(t).attr("data-thumb")){var i=e("> div",C).eq(t).attr("data-thumb"),n=new Image;n.src=i,e("li.pag_nav_"+t,P).append(e(n).attr("class","camera_thumb").css({position:"absolute"}).animate({opacity:0},0)),e("li.pag_nav_"+t+" > img",P).after('<div class="thumb_arrow" />'),e("li.pag_nav_"+t+" > .thumb_arrow",P).animate({opacity:0},0)}}),u.css({marginBottom:e(P).outerHeight()})):(e(D).append("<div />"),e(D).before('<div class="camera_prevThumbs hideNav"><div></div></div>').before('<div class="camera_nextThumbs hideNav"><div></div></div>'),e("> div",D).append("<ul />"),e.each(O,function(t,a){if(""!=e("> div",C).eq(t).attr("data-thumb")){var i=e("> div",C).eq(t).attr("data-thumb"),n=new Image;n.src=i,e("ul",D).append('<li class="pix_thumb pix_thumb_'+t+'" />'),e("li.pix_thumb_"+t,D).append(e(n).attr("class","camera_thumb"))}}))}else!e(D).length&&e(P).length&&u.css({marginBottom:e(P).outerHeight()});var ne=!0;e(A).length&&(e(A).append('<div class="camera_play"></div>').append('<div class="camera_stop"></div>'),1==U?(e(".camera_play",X).hide(),e(".camera_stop",X).show()):(e(".camera_stop",X).hide(),e(".camera_play",X).show())),c(),e(".moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom",p).each(function(){e(this).css("visibility","hidden")}),t.onStartLoading.call(this),d(),e(T).length&&e(T).click(function(){if(!C.hasClass("camerasliding")){var a=parseFloat(e(".cameraSlide.cameracurrent",y).index());clearInterval(z),s(),e("#"+b+", .camera_canvas_wrap",u).animate({opacity:0},0),c(),d(0!=a?a:j),t.onStartLoading.call(this)}}),e(k).length&&e(k).click(function(){if(!C.hasClass("camerasliding")){var a=parseFloat(e(".cameraSlide.cameracurrent",y).index());clearInterval(z),s(),e("#"+b+", .camera_canvas_wrap",X).animate({opacity:0},0),c(),d(a==j-1?1:a+2),t.onStartLoading.call(this)}}),i()&&(p.bind("swipeleft",function(a){if(!C.hasClass("camerasliding")){var i=parseFloat(e(".cameraSlide.cameracurrent",y).index());clearInterval(z),s(),e("#"+b+", .camera_canvas_wrap",X).animate({opacity:0},0),c(),d(i==j-1?1:i+2),t.onStartLoading.call(this)}}),p.bind("swiperight",function(a){if(!C.hasClass("camerasliding")){var i=parseFloat(e(".cameraSlide.cameracurrent",y).index());clearInterval(z),s(),e("#"+b+", .camera_canvas_wrap",X).animate({opacity:0},0),c(),d(0!=i?i:j),t.onStartLoading.call(this)}})),e(P).length&&e(".camera_pag li",u).click(function(){if(!C.hasClass("camerasliding")){var a=parseFloat(e(this).index()),i=parseFloat(e(".cameraSlide.cameracurrent",y).index());a!=i&&(clearInterval(z),s(),e("#"+b+", .camera_canvas_wrap",X).animate({opacity:0},0),c(),d(a+1),t.onStartLoading.call(this))}}),e(D).length&&(e(".pix_thumb img",D).click(function(){if(!C.hasClass("camerasliding")){var a=parseFloat(e(this).parents("li").index()),i=parseFloat(e(".cameracurrent",y).index());a!=i&&(clearInterval(z),s(),e("#"+b+", .camera_canvas_wrap",X).animate({opacity:0},0),e(".pix_thumb",D).removeClass("cameracurrent"),e(this).parents("li").addClass("cameracurrent"),c(),d(a+1),l(),t.onStartLoading.call(this))}}),e(".camera_thumbs_cont .camera_prevThumbs",X).hover(function(){e(this).stop(!0,!1).animate({opacity:1},250)},function(){e(this).stop(!0,!1).animate({opacity:.7},250)}),e(".camera_prevThumbs",X).click(function(){var t=0,a=(e(D).outerWidth(),e("ul",D).offset().left),i=e("> div",D).offset().left,o=i-a;e(".camera_visThumb",D).each(function(){var a=e(this).outerWidth();t+=a}),o-t>0?e("ul",D).animate({"margin-left":"-"+(o-t)+"px"},500,n):e("ul",D).animate({"margin-left":0},500,n)}),e(".camera_thumbs_cont .camera_nextThumbs",X).hover(function(){e(this).stop(!0,!1).animate({opacity:1},250)},function(){e(this).stop(!0,!1).animate({opacity:.7},250)}),e(".camera_nextThumbs",X).click(function(){var t=0,a=e(D).outerWidth(),i=e("ul",D).outerWidth(),o=e("ul",D).offset().left,s=e("> div",D).offset().left,r=s-o;e(".camera_visThumb",D).each(function(){var a=e(this).outerWidth();t+=a}),i>r+t+t?e("ul",D).animate({"margin-left":"-"+(r+t)+"px"},500,n):e("ul",D).animate({"margin-left":"-"+(i-a)+"px"},500,n)}))}}(jQuery),function(e){e.fn.cameraStop=function(){var t=e(this),a=e(".camera_src",t);"pie_"+t.index();if(a.addClass("stopped"),e(".camera_showcommands").length){e(".camera_thumbs_wrap",t)}else;}}(jQuery),function(e){e.fn.cameraPause=function(){var t=e(this),a=e(".camera_src",t);a.addClass("paused")}}(jQuery),function(e){e.fn.cameraResume=function(){var t=e(this),a=e(".camera_src",t);("undefined"==typeof autoAdv||autoAdv!==!0)&&a.removeClass("paused")}}(jQuery),function(e,t,a){"function"==typeof define&&define.amd?define(["jquery"],function(i){return a(i,e,t),i.mobile}):a(e.jQuery,e,t)}(this,document,function(e,t,a,i){!function(e,t,i){function n(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var o,s="hashchange",r=a,l=e.event.special,c=r.documentMode,d="on"+s in t&&(c===i||c>7);e.fn[s]=function(e){return e?this.bind(s,e):this.trigger(s)},e.fn[s].delay=50,l[s]=e.extend(l[s],{setup:function(){return d?!1:void e(o.start)},teardown:function(){return d?!1:void e(o.stop)}}),o=function(){function a(){var i=n(),r=p(c);i!==c?(u(c=i,r),e(t).trigger(s)):r!==c&&(location.href=location.href.replace(/#.*/,"")+r),o=setTimeout(a,e.fn[s].delay)}var o,l={},c=n(),h=function(e){return e},u=h,p=h;return l.start=function(){o||a()},l.stop=function(){o&&clearTimeout(o),o=i},t.attachEvent&&!t.addEventListener&&!d&&function(){var t,i;l.start=function(){t||(i=e.fn[s].src,i=i&&i+n(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){i||u(n()),a()}).attr("src",i||"javascript:0").insertAfter("body")[0].contentWindow,r.onpropertychange=function(){try{"title"===event.propertyName&&(t.document.title=r.title)}catch(e){}})},l.stop=h,p=function(){return n(t.location.href)},u=function(a,i){var n=t.document,o=e.fn[s].domain;a!==i&&(n.title=r.title,n.open(),o&&n.write('<script>document.domain="'+o+'"</script>'),n.close(),t.location.hash=a)}}(),l}()}(e,this),function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",o)},teardown:function(){e(this).unbind("resize",o)}};var t,a,i,n=250,o=function(){a=(new Date).getTime(),i=a-s,i>=n?(s=a,e(this).trigger("throttledresize")):(t&&clearTimeout(t),t=setTimeout(o,n-i))},s=0}(e),function(e,t){e.fn.fieldcontain=function(e){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return 3===this.nodeType&&!/\S/.test(this.nodeValue)}).remove()},e(a).bind("pagecreate create",function(t){e(":jqmData(role='fieldcontain')",t.target).jqmEnhanceable().fieldcontain()})}(e),function(e,t){e.fn.grid=function(t){return this.each(function(){var a,i=e(this),n=e.extend({grid:null},t),o=i.children(),s={solo:1,a:2,b:3,c:4,d:5},r=n.grid;if(!r)if(o.length<=5)for(var l in s)s[l]===o.length&&(r=l);else r="a",i.addClass("ui-grid-duo");a=s[r],i.addClass("ui-grid-"+r),o.filter(":nth-child("+a+"n+1)").addClass("ui-block-a"),a>1&&o.filter(":nth-child("+a+"n+2)").addClass("ui-block-b"),a>2&&o.filter(":nth-child("+a+"n+3)").addClass("ui-block-c"),a>3&&o.filter(":nth-child("+a+"n+4)").addClass("ui-block-d"),a>4&&o.filter(":nth-child("+a+"n+5)").addClass("ui-block-e")})}}(e),function(e){e.mobile={}}(e),function(e,t,i){var n={};e.mobile=e.extend(e.mobile,{version:"1.3.0",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},window:e(t),document:e(a),keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},behaviors:{},silentScroll:function(a){"number"!==e.type(a)&&(a=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,a),e.mobile.document.trigger("silentscroll",{x:0,y:a})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:n,nsNormalize:function(t){return t?n[t]||(n[t]=e.camelCase(e.mobile.ns+t)):void 0},getInheritedTheme:function(e,t){for(var a,i,n=e[0],o="",s=/ui-(bar|body|overlay)-([a-z])\b/;n&&(a=n.className||"",!(a&&(i=s.exec(a))&&(o=i[2])));)n=n.parentNode;return o||t||"a"},closestPageData:function(e){return e.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("mobile-page")},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,a){if(!e.mobile.ignoreContentEnabled)return t;for(var i,n,o,s=t.length,r=e(),l=0;s>l;l++){for(n=t.eq(l),o=!1,i=t[l];i;){var c=i.getAttribute?i.getAttribute("data-"+e.mobile.ns+a):"";if("false"===c){o=!0;break}i=i.parentNode}o||(r=r.add(n))}return r},getScreenHeight:function(){return t.innerHeight||e.mobile.window.height()}},e.mobile),e.fn.jqmData=function(t,a){var n;return"undefined"!=typeof t&&(t&&(t=e.mobile.nsNormalize(t)),n=arguments.length<2||a===i?this.data(t):this.data(t,a)),n},e.jqmData=function(t,a,i){var n;return"undefined"!=typeof a&&(n=e.data(t,a?e.mobile.nsNormalize(a):a,i)),n},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,a){return e.removeData(t,e.mobile.nsNormalize(a))},e.fn.removeWithDependents=function(){e.removeWithDependents(this)},e.removeWithDependents=function(t){var a=e(t);(a.jqmData("dependents")||e()).remove(),a.remove()},e.fn.addDependents=function(t){e.addDependents(e(this),t)},e.addDependents=function(t,a){var i=e(t).jqmData("dependents")||e();e(t).jqmData("dependents",e.merge(i,a))},e.fn.getEncodedText=function(){return e("<div/>").text(e(this).text()).html()},e.fn.jqmEnhanceable=function(){return e.mobile.enhanceable(this)},e.fn.jqmHijackable=function(){return e.mobile.hijackable(this)};var o=e.find,s=/:jqmData\(([^)]*)\)/g;e.find=function(t,a,i,n){return t=t.replace(s,"[data-"+(e.mobile.ns||"")+"$1]"),o.call(this,t,a,i,n)},e.extend(e.find,o),e.find.matches=function(t,a){return e.find(t,null,null,a)},e.find.matchesSelector=function(t,a){return e.find(a,null,null,[t]).length>0}}(e,this),function(e,i){t.matchMedia=t.matchMedia||function(e,t){var a,i=e.documentElement,n=i.firstElementChild||i.firstChild,o=e.createElement("body"),s=e.createElement("div");return s.id="mq-test-1",s.style.cssText="position:absolute;top:-100em",o.style.background="none",o.appendChild(s),function(e){return s.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(o,n),a=42===s.offsetWidth,i.removeChild(o),{matches:a,media:e}}}(a),e.mobile.media=function(e){return t.matchMedia(e).matches}}(e),function(e,a){e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t})}(e),function(e,t){function i(){var e=n();e!==o&&(o=e,l.trigger(c))}var n,o,s,r,l=e(t),c="orientationchange",d={0:!0,180:!0};if(e.support.orientation){var h=t.innerWidth||l.width(),u=t.innerHeight||l.height(),p=50;s=h>u&&h-u>p,r=d[t.orientation],(s&&r||!s&&!r)&&(d={"-90":!0,90:!0})}e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){return e.support.orientation&&!e.event.special.orientationchange.disabled?!1:(o=n(),void l.bind("throttledresize",i))},teardown:function(){return e.support.orientation&&!e.event.special.orientationchange.disabled?!1:void l.unbind("throttledresize",i)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=n(),t.apply(this,arguments)}}}),e.event.special.orientationchange.orientation=n=function(){var i=!0,n=a.documentElement;return i=e.support.orientation?d[t.orientation]:n&&n.clientWidth/n.clientHeight<1.1,i?"portrait":"landscape"},e.fn[c]=function(e){return e?this.bind(c,e):this.trigger(c)},e.attrFn&&(e.attrFn[c]=!0)}(e,this),function(e,t){var i={touch:"ontouchend"in a};e.mobile.support=e.mobile.support||{},e.extend(e.support,i),e.extend(e.mobile.support,i)}(e),function(e,i){function n(e){var t=e.charAt(0).toUpperCase()+e.substr(1),a=(e+" "+p.join(t+" ")+t).split(" ");for(var n in a)if(u[a[n]]!==i)return!0}function o(e,t,i){for(var n,o=a.createElement("div"),s=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},r=function(e){return""===e?"":"-"+e.charAt(0).toLowerCase()+e.substr(1)+"-"},l=function(a){var i=r(a)+e+": "+t+";",l=s(a),c=l+(""===l?e:s(e));o.setAttribute("style",i),!o.style[c]||(n=!0)},c=i?i:p,d=0;d<c.length;d++)l(c[d]);return!!n}function s(){var n="transform-3d",o=e.mobile.media("(-"+p.join("-"+n+"),(-")+"-"+n+"),("+n+")");if(o)return!!o;var s=a.createElement("div"),r={MozTransform:"-moz-transform",transform:"transform"};h.append(s);for(var l in r)s.style[l]!==i&&(s.style[l]="translate3d( 100px, 1px, 1px )",o=t.getComputedStyle(s).getPropertyValue(r[l]));return!!o&&"none"!==o}function r(){var t,a,i=location.protocol+"//"+location.host+location.pathname+"ui-dir/",n=e("head base"),o=null,s="";return n.length?s=n.attr("href"):n=o=e("<base>",{href:i}).appendTo("head"),t=e("<a href='testurl' />").prependTo(h),a=t[0].href,n[0].href=s||location.pathname,o&&o.remove(),0===a.indexOf(i)}function l(){var e,i=a.createElement("x"),n=a.documentElement,o=t.getComputedStyle;return"pointerEvents"in i.style?(i.style.pointerEvents="auto",i.style.pointerEvents="x",n.appendChild(i),e=o&&"auto"===o(i,"").pointerEvents,n.removeChild(i),!!e):!1}function c(){var e=a.createElement("div");return"undefined"!=typeof e.getBoundingClientRect}function d(){var e=t,a=navigator.userAgent,i=navigator.platform,n=a.match(/AppleWebKit\/([0-9]+)/),o=!!n&&n[1],s=a.match(/Fennec\/([0-9]+)/),r=!!s&&s[1],l=a.match(/Opera Mobi\/([0-9]+)/),c=!!l&&l[1];return(i.indexOf("iPhone")>-1||i.indexOf("iPad")>-1||i.indexOf("iPod")>-1)&&o&&534>o||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||l&&7458>c||a.indexOf("Android")>-1&&o&&533>o||r&&6>r||"palmGetResource"in t&&o&&534>o||a.indexOf("MeeGo")>-1&&a.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var h=e("<body>").prependTo("html"),u=h[0].style,p=["Webkit","Moz","O"],m="palmGetResource"in t,f=t.opera,g=t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini),v=t.blackberry&&!n("-webkit-transform");e.extend(e.mobile,{browser:{}}),e.mobile.browser.oldIE=function(){var e=3,t=a.createElement("div"),i=t.all||[];do t.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]-->";while(i[0]);return e>4?e:!e}(),e.extend(e.support,{cssTransitions:"WebKitTransitionEvent"in t||o("transition","height 100ms linear",["Webkit","Moz",""])&&!e.mobile.browser.oldIE&&!f,pushState:"pushState"in history&&"replaceState"in history&&-1===t.navigator.userAgent.search(/CriOS/),mediaquery:e.mobile.media("only all"),cssPseudoElement:!!n("content"),touchOverflow:!!n("overflowScrolling"),cssTransform3d:s(),boxShadow:!!n("boxShadow")&&!v,fixedPosition:d(),scrollTop:("pageXOffset"in t||"scrollTop"in a.documentElement||"scrollTop"in h[0])&&!m&&!g,dynamicBaseTag:r(),cssPointerEvents:l(),boundingRect:c()}),h.remove();var b=function(){var e=t.navigator.userAgent;return e.indexOf("Nokia")>-1&&(e.indexOf("Symbian/3")>-1||e.indexOf("Series60/5")>-1)&&e.indexOf("AppleWebKit")>-1&&e.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();e.mobile.gradeA=function(){return(e.support.mediaquery||e.mobile.browser.oldIE&&e.mobile.browser.oldIE>=7)&&(e.support.boundingRect||null!==e.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},e.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||g||b,b&&e(function(){e("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),e.support.boxShadow||e("html").addClass("ui-mobile-nosupport-boxshadow")}(e),function(e,t){var a,i=e.mobile.window;e.event.special.navigate=a={bound:!1,pushStateEnabled:!0,originalEventName:t,isPushStateEnabled:function(){return e.support.pushState&&e.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return e.mobile.hashListeningEnabled===!0},popstate:function(t){var a=new e.Event("navigate"),n=new e.Event("beforenavigate"),o=t.originalEvent.state||{};location.href;i.trigger(n),n.isDefaultPrevented()||(t.historyState&&e.extend(o,t.historyState),a.originalEvent=t,setTimeout(function(){i.trigger(a,{state:o})},0))},hashchange:function(t,a){var n=new e.Event("navigate"),o=new e.Event("beforenavigate");i.trigger(o),o.isDefaultPrevented()||(n.originalEvent=t,i.trigger(n,{state:t.hashchangeState||{}}))},setup:function(e,t){a.bound||(a.bound=!0,a.isPushStateEnabled()?(a.originalEventName="popstate",i.bind("popstate.navigate",a.popstate)):a.isHashChangeEnabled()&&(a.originalEventName="hashchange",i.bind("hashchange.navigate",a.hashchange)))}}}(e),function(e,t,a){var i=function(i){return i===a&&(i=!0),function(a,n,o,s){var r=new e.Deferred,l=n?" reverse":"",c=e.mobile.urlHistory.getActive(),d=c.lastScroll||e.mobile.defaultHomeScroll,h=e.mobile.getScreenHeight(),u=e.mobile.maxTransitionWidth!==!1&&e.mobile.window.width()>e.mobile.maxTransitionWidth,p=!e.support.cssTransitions||u||!a||"none"===a||Math.max(e.mobile.window.scrollTop(),d)>e.mobile.getMaxScrollForTransition(),m=" ui-page-pre-in",f=function(){e.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+a)},g=function(){e.event.special.scrollstart.enabled=!1,t.scrollTo(0,d),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},v=function(){s.removeClass(e.mobile.activePageClass+" out in reverse "+a).height("")},b=function(){i?s.animationComplete(C):C(),s.height(h+e.mobile.window.scrollTop()).addClass(a+" out"+l)},C=function(){s&&i&&v(),y()},y=function(){o.css("z-index",-10),o.addClass(e.mobile.activePageClass+m),e.mobile.focusPage(o),o.height(h+d),g(),o.css("z-index",""),p||o.animationComplete(w),o.removeClass(m).addClass(a+" in"+l),p&&w()},w=function(){i||s&&v(),o.removeClass("out in reverse "+a).height(""),f(),e.mobile.window.scrollTop()!==d&&g(),r.resolve(a,n,o,s,!0)};return f(),s&&!p?b():C(),r.promise()}},n=i(),o=i(!1),s=function(){return 3*e.mobile.getScreenHeight()};e.mobile.defaultTransitionHandler=n,e.mobile.transitionHandlers={"default":e.mobile.defaultTransitionHandler,sequential:n,simultaneous:o},e.mobile.transitionFallbacks={},e.mobile._maybeDegradeTransition=function(t){return t&&!e.support.cssTransform3d&&e.mobile.transitionFallbacks[t]&&(t=e.mobile.transitionFallbacks[t]),t},e.mobile.getMaxScrollForTransition=e.mobile.getMaxScrollForTransition||s}(e,this),function(e,t,a,i){function n(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function o(t,a){var o,s,r,l,c,d,h,u,p,m=t.type;if(t=e.Event(t),t.type=a,o=t.originalEvent,s=e.event.props,m.search(/^(mouse|click)/)>-1&&(s=N),o)for(h=s.length,l;h;)l=s[--h],t[l]=o[l];if(m.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==m.search(/^touch/)&&(r=n(o),m=r.touches,c=r.changedTouches,d=m&&m.length?m[0]:c&&c.length?c[0]:i,d))for(u=0,p=P.length;p>u;u++)l=P[u],t[l]=d[l];return t}function s(t){for(var a,i,n={};t;){a=e.data(t,T);for(i in a)a[i]&&(n[i]=n.hasVirtualBinding=!0);t=t.parentNode}return n}function r(t,a){for(var i;t;){if(i=e.data(t,T),i&&(!a||i[a]))return t;t=t.parentNode}return null}function l(){M=!1}function c(){M=!0}function d(){H=0,j.length=0,B=!1,c()}function h(){l()}function u(){p(),q=setTimeout(function(){q=0,d()},e.vmouse.resetTimerDuration)}function p(){q&&(clearTimeout(q),q=0)}function m(t,a,i){var n;return(i&&i[t]||!i&&r(a.target,t))&&(n=o(a,t),e(a.target).trigger(n)),n}function f(t){var a=e.data(t.target,k);if(!(B||H&&H===a)){var i=m("v"+t.type,t);i&&(i.isDefaultPrevented()&&t.preventDefault(),i.isPropagationStopped()&&t.stopPropagation(),i.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function g(t){var a,i,o=n(t).touches;if(o&&1===o.length&&(a=t.target,i=s(a),i.hasVirtualBinding)){H=F++,e.data(a,k,H),p(),h(),O=!1;var r=n(t).touches[0];E=r.pageX,L=r.pageY,m("vmouseover",t,i),m("vmousedown",t,i)}}function v(e){M||(O||m("vmousecancel",e,s(e.target)),O=!0,u())}function b(t){if(!M){var a=n(t).touches[0],i=O,o=e.vmouse.moveDistanceThreshold,r=s(t.target);O=O||Math.abs(a.pageX-E)>o||Math.abs(a.pageY-L)>o,O&&!i&&m("vmousecancel",t,r),m("vmousemove",t,r),u()}}function C(e){if(!M){c();var t,a=s(e.target);if(m("vmouseup",e,a),!O){var i=m("vclick",e,a);i&&i.isDefaultPrevented()&&(t=n(e).changedTouches[0],j.push({touchID:H,x:t.clientX,y:t.clientY}),B=!0)}m("vmouseout",e,a),O=!1,u()}}function y(t){var a,i=e.data(t,T);if(i)for(a in i)if(i[a])return!0;return!1}function w(){}function x(t){var a=t.substr(1);return{setup:function(i,n){y(this)||e.data(this,T,{});var o=e.data(this,T);o[t]=!0,S[t]=(S[t]||0)+1,1===S[t]&&R.bind(a,f),e(this).bind(a,w),I&&(S.touchstart=(S.touchstart||0)+1,1===S.touchstart&&R.bind("touchstart",g).bind("touchend",C).bind("touchmove",b).bind("scroll",v))},teardown:function(i,n){--S[t],S[t]||R.unbind(a,f),I&&(--S.touchstart,S.touchstart||R.unbind("touchstart",g).unbind("touchmove",b).unbind("touchend",C).unbind("scroll",v));var o=e(this),s=e.data(this,T);s&&(s[t]=!1),o.unbind(a,w),y(this)||o.removeData(T)}}}var _,T="virtualMouseBindings",k="virtualTouchID",A="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),P="clientX clientY pageX pageY screenX screenY".split(" "),D=e.event.mouseHooks?e.event.mouseHooks.props:[],N=e.event.props.concat(D),S={},q=0,E=0,L=0,O=!1,j=[],B=!1,M=!1,I="addEventListener"in a,R=e(a),F=1,H=0;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var V=0;V<A.length;V++)e.event.special[A[V]]=x(A[V]);I&&a.addEventListener("click",function(t){var a,i,n,o,s,r,l=j.length,c=t.target;if(l)for(a=t.clientX,i=t.clientY,_=e.vmouse.clickDistanceThreshold,n=c;n;){for(o=0;l>o;o++)if(s=j[o],r=0,n===c&&Math.abs(s.x-a)<_&&Math.abs(s.y-i)<_||e.data(n,k)===s.touchID)return t.preventDefault(),void t.stopPropagation();n=n.parentNode}},!0)}(e,t,a),function(e,t,i){function n(t,a,i){var n=i.type;i.type=a,e.event.dispatch.call(t,i),i.type=n}var o=e(a);e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,a){e.fn[a]=function(e){return e?this.bind(a,e):this.trigger(a)},e.attrFn&&(e.attrFn[a]=!0)});var s=e.mobile.support.touch,r="touchmove scroll",l=s?"touchstart":"mousedown",c=s?"touchend":"mouseup",d=s?"touchmove":"mousemove";e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){a=t,n(o,a?"scrollstart":"scrollstop",e)}var a,i,o=this,s=e(o);s.bind(r,function(n){e.event.special.scrollstart.enabled&&(a||t(n,!0),clearTimeout(i),i=setTimeout(function(){t(n,!1)},50))})}},e.event.special.tap={tapholdThreshold:750,setup:function(){var t=this,a=e(t);a.bind("vmousedown",function(i){function s(){clearTimeout(c)}function r(){s(),a.unbind("vclick",l).unbind("vmouseup",s),o.unbind("vmousecancel",r)}function l(e){r(),d===e.target&&n(t,"tap",e)}if(i.which&&1!==i.which)return!1;var c,d=i.target;i.originalEvent;a.bind("vmouseup",s).bind("vclick",l),o.bind("vmousecancel",r),c=setTimeout(function(){n(t,"taphold",e.Event("taphold",{target:d}))},e.event.special.tap.tapholdThreshold)})}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(t){var a=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[a.pageX,a.pageY],origin:e(t.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,a){a.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-a.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-a.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&t.origin.trigger("swipe").trigger(t.coords[0]>a.coords[0]?"swipeleft":"swiperight")},setup:function(){var t=this,a=e(t);a.bind(l,function(t){function n(t){s&&(o=e.event.special.swipe.stop(t),Math.abs(s.coords[0]-o.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())}var o,s=e.event.special.swipe.start(t);a.bind(d,n).one(c,function(){a.unbind(d,n),s&&o&&e.event.special.swipe.handleSwipe(s,o),s=o=i})})}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,a){e.event.special[t]={setup:function(){e(this).bind(a,e.noop)}}})}(e,this),function(e,t){function i(e){for(var t;e&&(t="string"==typeof e.className&&e.className+" ",!(t&&t.indexOf("ui-btn ")>-1&&t.indexOf("ui-disabled ")<0));)e=e.parentNode;return e}function n(i,n,o,s,r){var l=e.data(i[0],"buttonElements");i.removeClass(n).addClass(o),l&&(l.bcls=e(a.createElement("div")).addClass(l.bcls+" "+o).removeClass(n).attr("class"),s!==t&&(l.hover=s),l.state=r)}var o=function(e,a){var i=e.getAttribute(a);return"true"===i?!0:"false"===i?!1:null===i?t:i};e.fn.buttonMarkup=function(i){var n,r=this,l="data-"+e.mobile.ns;i=i&&"object"===e.type(i)?i:{};for(var c=0;c<r.length;c++){var d,h,u,p,m,f,g=r.eq(c),v=g[0],b=e.extend({},e.fn.buttonMarkup.defaults,{icon:i.icon!==t?i.icon:o(v,l+"icon"),iconpos:i.iconpos!==t?i.iconpos:o(v,l+"iconpos"),theme:i.theme!==t?i.theme:o(v,l+"theme")||e.mobile.getInheritedTheme(g,"c"),inline:i.inline!==t?i.inline:o(v,l+"inline"),shadow:i.shadow!==t?i.shadow:o(v,l+"shadow"),corners:i.corners!==t?i.corners:o(v,l+"corners"),iconshadow:i.iconshadow!==t?i.iconshadow:o(v,l+"iconshadow"),mini:i.mini!==t?i.mini:o(v,l+"mini")},i),C="ui-btn-inner",y="ui-btn-text",w=!1,x="up";for(n in b)v.setAttribute(l+n,b[n]);for("popup"===o(v,l+"rel")&&g.attr("href")&&(v.setAttribute("aria-haspopup",!0),v.setAttribute("aria-owns",g.attr("href"))),f=e.data("INPUT"===v.tagName||"BUTTON"===v.tagName?v.parentNode:v,"buttonElements"),f?(v=f.outer,g=e(v),u=f.inner,p=f.text,e(f.icon).remove(),f.icon=null,w=f.hover,x=f.state):(u=a.createElement(b.wrapperEls),p=a.createElement(b.wrapperEls)),m=b.icon?a.createElement("span"):null,s&&!f&&s(),b.theme||(b.theme=e.mobile.getInheritedTheme(g,"c")),d="ui-btn ",d+=w?"ui-btn-hover-"+b.theme:"",d+=x?" ui-btn-"+x+"-"+b.theme:"",d+=b.shadow?" ui-shadow":"",d+=b.corners?" ui-btn-corner-all":"",b.mini!==t&&(d+=b.mini===!0?" ui-mini":" ui-fullsize"),b.inline!==t&&(d+=b.inline===!0?" ui-btn-inline":" ui-btn-block"),b.icon&&(b.icon="ui-icon-"+b.icon,b.iconpos=b.iconpos||"left",h="ui-icon "+b.icon,b.iconshadow&&(h+=" ui-icon-shadow")),b.iconpos&&(d+=" ui-btn-icon-"+b.iconpos,"notext"===b.iconpos&&!g.attr("title")&&g.attr("title",g.getEncodedText())),b.iconpos&&"notext"===b.iconpos&&!g.attr("title")&&g.attr("title",g.getEncodedText()),f&&g.removeClass(f.bcls||""),g.removeClass("ui-link").addClass(d),u.className=C,p.className=y,f||u.appendChild(p),m&&(m.className=h,f&&f.icon||(m.innerHTML="&#160;",u.appendChild(m)));v.firstChild&&!f;)p.appendChild(v.firstChild);f||v.appendChild(u),f={hover:w,state:x,bcls:d,outer:v,inner:u,text:p,icon:m},e.data(v,"buttonElements",f),e.data(u,"buttonElements",f),e.data(p,"buttonElements",f),m&&e.data(m,"buttonElements",f)}return this},e.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,wrapperEls:"span"};var s=function(){var a,o,r=e.mobile.buttonMarkup.hoverDelay;e.mobile.document.bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(s){var l,c=e(i(s.target)),d=s.originalEvent&&/^touch/.test(s.originalEvent.type),h=s.type;c.length&&(l=c.attr("data-"+e.mobile.ns+"theme"),"vmousedown"===h?d?a=setTimeout(function(){n(c,"ui-btn-up-"+l,"ui-btn-down-"+l,t,"down")},r):n(c,"ui-btn-up-"+l,"ui-btn-down-"+l,t,"down"):"vmousecancel"===h||"vmouseup"===h?n(c,"ui-btn-down-"+l,"ui-btn-up-"+l,t,"up"):"vmouseover"===h||"focus"===h?d?o=setTimeout(function(){n(c,"ui-btn-up-"+l,"ui-btn-hover-"+l,!0,"")},r):n(c,"ui-btn-up-"+l,"ui-btn-hover-"+l,!0,""):("vmouseout"===h||"blur"===h||"scrollstart"===h)&&(n(c,"ui-btn-hover-"+l+" ui-btn-down-"+l,"ui-btn-up-"+l,!1,"up"),a&&clearTimeout(a),o&&clearTimeout(o)))},"focusin focus":function(t){e(i(t.target)).addClass(e.mobile.focusClass)},"focusout blur":function(t){e(i(t.target)).removeClass(e.mobile.focusClass)}}),s=null};e.mobile.document.bind("pagecreate create",function(t){e(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",t.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})}(e),function(e,t){var a=0,i=Array.prototype.slice,n=e.cleanData;e.cleanData=function(t){for(var a,i=0;null!=(a=t[i]);i++)try{e(a).triggerHandler("remove")}catch(o){}n(t)},e.widget=function(t,a,i){var n,o,s,r,l=t.split(".")[0];t=t.split(".")[1],n=l+"-"+t,i||(i=a,a=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},o=e[l][t],s=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),r=new a,r.options=e.widget.extend({},r.options),e.each(i,function(t,n){e.isFunction(n)&&(i[t]=function(){var e=function(){return a.prototype[t].apply(this,arguments)},i=function(e){return a.prototype[t].apply(this,e)};return function(){var t,a=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=n.apply(this,arguments),this._super=a,this._superApply=o,t}}())}),s.prototype=e.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix:t},i,{constructor:s,namespace:l,widgetName:t,widgetFullName:n}),o?(e.each(o._childConstructors,function(t,a){var i=a.prototype;e.widget(i.namespace+"."+i.widgetName,s,a._proto)}),delete o._childConstructors):a._childConstructors.push(s),e.widget.bridge(t,s)},e.widget.extend=function(a){for(var n,o,s=i.call(arguments,1),r=0,l=s.length;l>r;r++)for(n in s[r])o=s[r][n],s[r].hasOwnProperty(n)&&o!==t&&(e.isPlainObject(o)?a[n]=e.isPlainObject(a[n])?e.widget.extend({},a[n],o):e.widget.extend({},o):a[n]=o);return a},e.widget.bridge=function(a,n){var o=n.prototype.widgetFullName||a;e.fn[a]=function(s){var r="string"==typeof s,l=i.call(arguments,1),c=this;return s=!r&&l.length?e.widget.extend.apply(null,[s].concat(l)):s,this.each(r?function(){var i,n=e.data(this,o);return n?e.isFunction(n[s])&&"_"!==s.charAt(0)?(i=n[s].apply(n,l),i!==n&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+s+"' for "+a+" widget instance"):e.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+s+"'")}:function(){var t=e.data(this,o);t?t.option(s||{})._init():e.data(this,o,new n(s,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],
e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(a,i){var n,o,s,r=a;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof a)if(r={},n=a.split("."),a=n.shift(),n.length){for(o=r[a]=e.widget.extend({},this.options[a]),s=0;s<n.length-1;s++)o[n[s]]=o[n[s]]||{},o=o[n[s]];if(a=n.pop(),i===t)return o[a]===t?null:o[a];o[a]=i}else{if(i===t)return this.options[a]===t?null:this.options[a];r[a]=i}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,a,i){var n,o=this;"boolean"!=typeof t&&(i=a,a=t,t=!1),i?(a=n=e(a),this.bindings=this.bindings.add(a)):(i=a,a=this.element,n=this.widget()),e.each(i,function(i,s){function r(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(r.guid=s.guid=s.guid||r.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,d=l[2];d?n.delegate(d,c,r):a.bind(c,r)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function a(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(a,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,a,i){var n,o,s=this.options[t];if(i=i||{},a=e.Event(a),a.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),a.target=this.element[0],o=a.originalEvent,o)for(n in o)n in a||(a[n]=o[n]);return this.element.trigger(a,i),!(e.isFunction(s)&&s.apply(this.element[0],[a].concat(i))===!1||a.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,a){e.Widget.prototype["_"+t]=function(i,n,o){"string"==typeof n&&(n={effect:n});var s,r=n?n===!0||"number"==typeof n?a:n.effect||a:t;n=n||{},"number"==typeof n&&(n={duration:n}),s=!e.isEmptyObject(n),n.complete=o,n.delay&&i.delay(n.delay),s&&e.effects&&e.effects.effect[r]?i[t](n):r!==t&&i[r]?i[r](n.duration,n.easing,o):i.queue(function(a){e(this)[t](),o&&o.call(i[0]),a()})}})}(e),function(e,t){e.widget("mobile.widget",{_createWidget:function(){e.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_getCreateOptions:function(){var a=this.element,i={};return e.each(this.options,function(e){var n=a.jqmData(e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}));n!==t&&(i[e]=n)}),i},enhanceWithin:function(t,a){this.enhance(e(this.options.initSelector,e(t)),a)},enhance:function(t,a){var i,n,o=e(t);o=e.mobile.enhanceable(o),a&&o.length&&(i=e.mobile.closestPageData(o),n=i&&i.keepNativeSelector()||"",o=o.not(n)),o[this.widgetName]()},raise:function(e){throw"Widget ["+this.widgetName+"]: "+e}})}(e),function(e){var t=e("meta[name=viewport]"),a=t.attr("content"),i=a+",maximum-scale=1, user-scalable=no",n=a+",maximum-scale=10, user-scalable=yes",o=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(a);e.mobile.zoom=e.extend({},{enabled:!o,locked:!1,disable:function(a){!o&&!e.mobile.zoom.locked&&(t.attr("content",i),e.mobile.zoom.enabled=!1,e.mobile.zoom.locked=a||!1)},enable:function(a){!o&&(!e.mobile.zoom.locked||a===!0)&&(t.attr("content",n),e.mobile.zoom.enabled=!0,e.mobile.zoom.locked=!1)},restore:function(){o||(t.attr("content",a),e.mobile.zoom.enabled=!0)}})}(e),function(e,a){var i,n,o="&ui-state=dialog";e.mobile.path=i={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(e){var t=e?this.parseUrl(e):location,a=this.parseUrl(e||location.href).hash;return a="#"===a?"":a,t.protocol+"//"+t.host+t.pathname+t.search+a},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if("object"===e.type(t))return t;var a=i.urlParseRE.exec(t||"")||[];return{href:a[0]||"",hrefNoHash:a[1]||"",hrefNoSearch:a[2]||"",domain:a[3]||"",protocol:a[4]||"",doubleSlash:a[5]||"",authority:a[6]||"",username:a[8]||"",password:a[9]||"",host:a[10]||"",hostname:a[11]||"",port:a[12]||"",pathname:a[13]||"",directory:a[14]||"",filename:a[15]||"",search:a[16]||"",hash:a[17]||""}},makePathAbsolute:function(e,t){if(e&&"/"===e.charAt(0))return e;e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";for(var a=t?t.split("/"):[],i=e.split("/"),n=0;n<i.length;n++){var o=i[n];switch(o){case".":break;case"..":a.length&&a.pop();break;default:a.push(o)}}return"/"+a.join("/")},isSameDomain:function(e,t){return i.parseUrl(e).domain===i.parseUrl(t).domain},isRelativeUrl:function(e){return""===i.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==i.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!i.isRelativeUrl(e))return e;t===a&&(t=this.documentBase);var n=i.parseUrl(e),o=i.parseUrl(t),s=n.protocol||o.protocol,r=n.protocol?n.doubleSlash:n.doubleSlash||o.doubleSlash,l=n.authority||o.authority,c=""!==n.pathname,d=i.makePathAbsolute(n.pathname||o.filename,o.pathname),h=n.search||!c&&o.search||"",u=n.hash;return s+r+l+d+h+u},addSearchParams:function(t,a){var n=i.parseUrl(t),o="object"==typeof a?e.param(a):a,s=n.search||"?";return n.hrefNoSearch+s+("?"!==s.charAt(s.length-1)?"&":"")+o+(n.hash||"")},convertUrlToDataUrl:function(e){var a=i.parseUrl(e);return i.isEmbeddedPage(a)?a.hash.split(o)[0].replace(/^#/,"").replace(/\?.*$/,""):i.isSameDomain(a,this.documentBase)?a.hrefNoHash.replace(this.documentBase.domain,"").split(o)[0]:t.decodeURIComponent(e)},get:function(e){return e===a&&(e=i.parseLocation().hash),i.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(this.documentBase.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},stripQueryParams:function(e){return e.replace(/\?.*$/,"")},cleanHash:function(e){return i.stripHash(e.replace(/\?.*$/,"").replace(o,""))},isHashValid:function(e){return/^#[^#]+$/.test(e)},isExternal:function(e){var t=i.parseUrl(e);return t.protocol&&t.domain!==this.documentUrl.domain?!0:!1},hasProtocol:function(e){return/^(:?\w+:)/.test(e)},isEmbeddedPage:function(e){var t=i.parseUrl(e);return""!==t.protocol?!this.isPath(t.hash)&&t.hash&&(t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(t.href)},squash:function(e,t){var a,n,o,s,r=this.isPath(e),l=this.parseUrl(e),c=l.hash,d="";return t=t||(i.isPath(e)?i.getLocation():i.getDocumentUrl()),n=r?i.stripHash(e):e,n=i.isPath(l.hash)?i.stripHash(l.hash):n,s=n.indexOf(this.uiStateKey),s>-1&&(d=n.slice(s),n=n.slice(0,s)),a=i.makeUrlAbsolute(n,t),o=this.parseUrl(a).search,r?((i.isPath(c)||0===c.replace("#","").indexOf(this.uiStateKey))&&(c=""),d&&-1===c.indexOf(this.uiStateKey)&&(c+=d),-1===c.indexOf("#")&&""!==c&&(c="#"+c),a=i.parseUrl(a),a=a.protocol+"//"+a.host+a.pathname+o+c):a+=a.indexOf("#")>-1?d:"#"+d,a},isPreservableHash:function(e){return 0===e.replace("#","").indexOf(this.uiStateKey)}},i.documentUrl=i.parseLocation(),n=e("head").find("base"),i.documentBase=n.length?i.parseUrl(i.makeUrlAbsolute(n.attr("href"),i.documentUrl.href)):i.documentUrl,i.documentBaseDiffers=i.documentUrl.hrefNoHash!==i.documentBase.hrefNoHash,i.getDocumentUrl=function(t){return t?e.extend({},i.documentUrl):i.documentUrl.href},i.getDocumentBase=function(t){return t?e.extend({},i.documentBase):i.documentBase.href}}(e),function(e,t){e.mobile.path;e.mobile.History=function(e,t){this.stack=e||[],this.activeIndex=t||0},e.extend(e.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(e,t){t=t||{},this.getNext()&&this.clearForward(),t.hash&&-1===t.hash.indexOf("#")&&(t.hash="#"+t.hash),t.url=e,this.stack.push(t),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(e,t,a){t=t||this.stack;var i,n,o,s=t.length;for(n=0;s>n;n++)if(i=t[n],(decodeURIComponent(e)===decodeURIComponent(i.url)||decodeURIComponent(e)===decodeURIComponent(i.hash))&&(o=n,a))return o;return o},closest:function(e){var a,i=this.activeIndex;return a=this.find(e,this.stack.slice(0,i)),a===t&&(a=this.find(e,this.stack.slice(i),!0),a=a===t?a:a+i),a},direct:function(a){var i=this.closest(a.url),n=this.activeIndex;i!==t&&(this.activeIndex=i,this.previousIndex=n),n>i?(a.present||a.back||e.noop)(this.getActive(),"back"):i>n?(a.present||a.forward||e.noop)(this.getActive(),"forward"):i===t&&a.missing&&a.missing(this.getActive())}})}(e),function(e,i){var n=e.mobile.path;e.mobile.Navigator=function(t){this.history=t,this.ignoreInitialHashChange=!0,setTimeout(e.proxy(function(){this.ignoreInitialHashChange=!1},this),200),e.mobile.window.bind({"popstate.history":e.proxy(this.popstate,this),"hashchange.history":e.proxy(this.hashchange,this)})},e.extend(e.mobile.Navigator.prototype,{squash:function(i,o){var s,r,l=n.isPath(i)?n.stripHash(i):i;return r=n.squash(i),s=e.extend({hash:l,url:r},o),t.history.replaceState(s,s.title||a.title,r),s},hash:function(e,t){var a,i,o;if(a=n.parseUrl(e),i=n.parseLocation(),i.pathname+i.search===a.pathname+a.search)o=a.hash?a.hash:a.pathname+a.search;else if(n.isPath(e)){var s=n.parseUrl(t);o=s.pathname+s.search+(n.isPreservableHash(s.hash)?s.hash.replace("#",""):"")}else o=e;return o},go:function(i,o,s){var r,l,c,d,h=e.event.special.navigate.isPushStateEnabled();l=n.squash(i),c=this.hash(i,l),s&&c!==n.stripHash(n.parseLocation().hash)&&(this.preventNextHashChange=s),this.preventHashAssignPopState=!0,t.location.hash=c,this.preventHashAssignPopState=!1,r=e.extend({url:l,hash:c,title:a.title},o),h&&(d=new e.Event("popstate"),d.originalEvent={type:"popstate",state:null},this.squash(i,r),s||(this.ignorePopState=!0,e.mobile.window.trigger(d))),this.history.add(r.url,r)},popstate:function(t){var a,i;if(e.event.special.navigate.isPushStateEnabled())return this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,void t.stopImmediatePropagation()):this.ignorePopState?void(this.ignorePopState=!1):!t.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange?void(this.ignoreInitialHashChange=!1):(a=n.parseLocation().hash,!t.originalEvent.state&&a?(i=this.squash(a),this.history.add(i.url,i),t.historyState=i,void 0):void this.history.direct({url:(t.originalEvent.state||{}).url||a,present:function(a,i){t.historyState=e.extend({},a),t.historyState.direction=i}}))},hashchange:function(t){var i,o;if(e.event.special.navigate.isHashChangeEnabled()&&!e.event.special.navigate.isPushStateEnabled())return this.preventNextHashChange?(this.preventNextHashChange=!1,void t.stopImmediatePropagation()):(i=this.history,o=n.parseLocation().hash,this.history.direct({url:o,present:function(a,i){t.hashchangeState=e.extend({},a),t.hashchangeState.direction=i},missing:function(){i.add(o,{hash:o,title:a.title})}}),void 0)}})}(e),function(e,t){e.mobile.navigate=function(t,a,i){e.mobile.navigate.navigator.go(t,a,i)},e.mobile.navigate.history=new e.mobile.History,e.mobile.navigate.navigator=new e.mobile.Navigator(e.mobile.navigate.history);var a=e.mobile.path.parseLocation();e.mobile.navigate.history.add(a.href,{hash:a.hash})}(e),function(e,t){e.mobile.behaviors.addFirstLastClasses={_getVisibles:function(e,t){var a;return t?a=e.not(".ui-screen-hidden"):(a=e.filter(":visible"),0===a.length&&(a=e.not(".ui-screen-hidden"))),a},_addFirstLastClasses:function(e,t,a){e.removeClass("ui-first-child ui-last-child"),t.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),a||this.element.trigger("updatelayout")}}}(e),function(e,t){e.widget("mobile.collapsible",e.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:"plus",expandedIcon:"minus",iconpos:"left",theme:null,contentTheme:null,inset:!0,corners:!0,mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var a=this.element,i=this.options,n=a.addClass("ui-collapsible"),o=a.children(i.heading).first(),s=n.wrapInner("<div class='ui-collapsible-content'></div>").children(".ui-collapsible-content"),r=a.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set"),l="";o.is("legend")&&(o=e("<div role='heading'>"+o.html()+"</div>").insertBefore(o),o.next().remove()),r.length?(i.theme||(i.theme=r.jqmData("theme")||e.mobile.getInheritedTheme(r,"c")),i.contentTheme||(i.contentTheme=r.jqmData("content-theme")),i.collapsedIcon=a.jqmData("collapsed-icon")||r.jqmData("collapsed-icon")||i.collapsedIcon,i.expandedIcon=a.jqmData("expanded-icon")||r.jqmData("expanded-icon")||i.expandedIcon,i.iconpos=a.jqmData("iconpos")||r.jqmData("iconpos")||i.iconpos,r.jqmData("inset")!==t?i.inset=r.jqmData("inset"):i.inset=!0,i.corners=!1,i.mini||(i.mini=r.jqmData("mini"))):i.theme||(i.theme=e.mobile.getInheritedTheme(a,"c")),!i.inset||(l+=" ui-collapsible-inset",!i.corners||(l+=" ui-corner-all")),i.contentTheme&&(l+=" ui-collapsible-themed-content",s.addClass("ui-body-"+i.contentTheme)),""!==l&&n.addClass(l),o.insertBefore(s).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconpos:i.iconpos,icon:i.collapsedIcon,mini:i.mini,theme:i.theme}),n.bind("expand collapse",function(t){if(!t.isDefaultPrevented()){var a=e(this),n="collapse"===t.type;t.preventDefault(),o.toggleClass("ui-collapsible-heading-collapsed",n).find(".ui-collapsible-heading-status").text(n?i.expandCueText:i.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-"+i.expandedIcon,!n).toggleClass("ui-icon-"+i.collapsedIcon,n||i.expandedIcon===i.collapsedIcon).end().find("a").first().removeClass(e.mobile.activeBtnClass),a.toggleClass("ui-collapsible-collapsed",n),s.toggleClass("ui-collapsible-content-collapsed",n).attr("aria-hidden",n),s.trigger("updatelayout")}}).trigger(i.collapsed?"collapse":"expand"),o.bind("tap",function(t){o.find("a").first().addClass(e.mobile.activeBtnClass)}).bind("click",function(e){var t=o.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";n.trigger(t),e.preventDefault(),e.stopPropagation()})}}),e.mobile.document.bind("pagecreate create",function(t){e.mobile.collapsible.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.widget("mobile.collapsibleset",e.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var a=this.element.addClass("ui-collapsible-set"),i=this.options;i.theme||(i.theme=e.mobile.getInheritedTheme(a,"c")),i.contentTheme||(i.contentTheme=a.jqmData("content-theme")),i.corners||(i.corners=a.jqmData("corners")),a.jqmData("inset")!==t&&(i.inset=a.jqmData("inset")),i.inset=i.inset!==t?i.inset:!0,i.corners=i.corners!==t?i.corners:!0,!!i.corners&&!!i.inset&&a.addClass("ui-corner-all"),a.jqmData("collapsiblebound")||a.jqmData("collapsiblebound",!0).bind("expand",function(t){var a=e(t.target).closest(".ui-collapsible");a.parent().is(":jqmData(role='collapsible-set')")&&a.siblings(".ui-collapsible").trigger("collapse")})},_init:function(){var e=this.element,t=e.children(":jqmData(role='collapsible')"),a=t.filter(":jqmData(collapsed='false')");this._refresh("true"),a.trigger("expand")},_refresh:function(t){var a=this.element.children(":jqmData(role='collapsible')");e.mobile.collapsible.prototype.enhance(a.not(".ui-collapsible")),this._addFirstLastClasses(a,this._getVisibles(a,t),t)},refresh:function(){this._refresh(!1)}}),e.widget("mobile.collapsibleset",e.mobile.collapsibleset,e.mobile.behaviors.addFirstLastClasses),e.mobile.document.bind("pagecreate create",function(t){e.mobile.collapsibleset.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.extend(e.mobile,{loadingMessageTextVisible:i,loadingMessageTheme:i,loadingMessage:i,showPageLoadingMsg:function(t,a,i){e.mobile.loading("show",t,a,i)},hidePageLoadingMsg:function(){e.mobile.loading("hide")},loading:function(){this.loaderWidget.loader.apply(this.loaderWidget,arguments)}});var a="ui-loader",n=e("html"),o=e.mobile.window;e.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+a+"'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var t=e("."+e.mobile.activeBtnClass).first();this.element.css({top:e.support.scrollTop&&o.scrollTop()+o.height()/2||t.length&&t.offset().top||100})},checkLoaderPosition:function(){var t=this.element.offset(),a=o.scrollTop(),i=e.mobile.getScreenHeight();(t.top<a||t.top-a>i)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),o.unbind("scroll",this.checkLoaderPosition).bind("scroll",e.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(e(this.defaultHtml).html())},show:function(t,s,r){var l,c,d;this.resetHtml(),"object"===e.type(t)?(d=e.extend({},this.options,t),t=d.theme||e.mobile.loadingMessageTheme):(d=this.options,t=t||e.mobile.loadingMessageTheme||d.theme),c=s||e.mobile.loadingMessage||d.text,n.addClass("ui-loading"),(e.mobile.loadingMessage!==!1||d.html)&&(l=e.mobile.loadingMessageTextVisible!==i?e.mobile.loadingMessageTextVisible:d.textVisible,this.element.attr("class",a+" ui-corner-all ui-body-"+t+" ui-loader-"+(l||s||t.text?"verbose":"default")+(d.textonly||r?" ui-loader-textonly":"")),d.html?this.element.html(d.html):this.element.find("h1").text(c),this.element.appendTo(e.mobile.pageContainer),this.checkLoaderPosition(),o.bind("scroll",e.proxy(this.checkLoaderPosition,this)))},hide:function(){n.removeClass("ui-loading"),e.mobile.loadingMessage&&this.element.removeClass("ui-loader-fakefix"),e.mobile.window.unbind("scroll",this.fakeFixLoader),e.mobile.window.unbind("scroll",this.checkLoaderPosition)}}),o.bind("pagecontainercreate",function(){e.mobile.loaderWidget=e.mobile.loaderWidget||e(e.mobile.loader.prototype.defaultHtml).loader()})}(e,this),function(e,t){e.widget("mobile.navbar",e.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var i=this.element,n=i.find("a"),o=n.filter(":jqmData(icon)").length?this.options.iconpos:t;i.addClass("ui-navbar ui-mini").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),n.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:o}),i.delegate("a","vclick",function(t){if(!e(t.target).hasClass("ui-disabled")){n.removeClass(e.mobile.activeBtnClass),e(this).addClass(e.mobile.activeBtnClass);var i=e(this);e(a).one("pagechange",function(t){i.removeClass(e.mobile.activeBtnClass)})}}),i.closest(".ui-page").bind("pagebeforeshow",function(){n.filter(".ui-state-persist").addClass(e.mobile.activeBtnClass)})}}),e.mobile.document.bind("pagecreate create",function(t){e.mobile.navbar.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.widget("mobile.page",e.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){return this._trigger("beforecreate")===!1?!1:(this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme),void this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}))},_handlePageBeforeShow:function(e){this.setContainerBackground()},removeContainerBackground:function(){e.mobile.pageContainer.removeClass("ui-overlay-"+e.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(t){this.options.theme&&e.mobile.pageContainer.addClass("ui-overlay-"+(t||this.options.theme))},keepNativeSelector:function(){var t=this.options,a=t.keepNative&&e.trim(t.keepNative);return a&&t.keepNative!==t.keepNativeDefault?[t.keepNative,t.keepNativeDefault].join(", "):t.keepNativeDefault}})}(e),function(e,t){e.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},e.mobile.document.bind("pagecreate create",function(t){var a,i=e.mobile.closestPageData(e(t.target));i&&(a=i.options,e(t.target).find("input").not(i.keepNativeSelector()).each(function(){var t=e(this),i=this.getAttribute("type"),n=a.degradeInputs[i]||"text";if(a.degradeInputs[i]){var o=e("<div>").html(t.clone()).html(),s=o.indexOf(" type=")>-1,r=s?/\s+type=["']?\w+['"]?/:/\/?>/,l=' type="'+n+'" data-'+e.mobile.ns+'type="'+i+'"'+(s?"":">");t.replaceWith(o.replace(r,l))}}))})}(e),function(e,t){e.widget("mobile.textinput",e.mobile.widget,{options:{theme:null,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type]), input[type='file']",clearBtn:!1,clearSearchButtonText:null,clearBtnText:"clear text",disabled:!1},_create:function(){function t(){setTimeout(function(){i.toggleClass("ui-input-clear-hidden",!o.val())},0)}var a,i,n=this,o=this.element,s=this.options,r=s.theme||e.mobile.getInheritedTheme(this.element,"c"),l=" ui-body-"+r,c=s.mini?" ui-mini":"",d=o.is("[type='search'], :jqmData(type='search')"),h=s.clearSearchButtonText||s.clearBtnText,u=o.is("textarea, :jqmData(type='range')"),p=!!s.clearBtn&&!u,m=o.is("input")&&!o.is(":jqmData(type='range')");if(e("label[for='"+o.attr("id")+"']").addClass("ui-input-text"),a=o.addClass("ui-input-text ui-body-"+r),"undefined"!=typeof o[0].autocorrect&&!e.support.touchOverflow&&(o[0].setAttribute("autocorrect","off"),o[0].setAttribute("autocomplete","off")),d?a=o.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+l+c+"'></div>").parent():m&&(a=o.wrap("<div class='ui-input-text ui-shadow-inset ui-corner-all ui-btn-shadow"+l+c+"'></div>").parent()),p||d?(i=e("<a href='#' class='ui-input-clear' title='"+h+"'>"+h+"</a>").bind("click",function(e){o.val("").focus().trigger("change"),i.addClass("ui-input-clear-hidden"),e.preventDefault()}).appendTo(a).buttonMarkup({icon:"delete",iconpos:"notext",corners:!0,shadow:!0,mini:s.mini}),d||a.addClass("ui-input-has-clear"),t(),o.bind("paste cut keyup input focus change blur",t)):!m&&!d&&o.addClass("ui-corner-all ui-shadow-inset"+l+c),o.focus(function(){s.preventFocusZoom&&e.mobile.zoom.disable(!0),a.addClass(e.mobile.focusClass)}).blur(function(){a.removeClass(e.mobile.focusClass),s.preventFocusZoom&&e.mobile.zoom.enable(!0)}),o.is("textarea")){var f,g=15,v=100;this._keyup=function(){var e=o[0].scrollHeight,t=o[0].clientHeight;e>t&&o.height(e+g)},o.on("keyup change input paste",function(){clearTimeout(f),f=setTimeout(n._keyup,v)}),this._on(e.mobile.document,{pagechange:"_keyup"}),e.trim(o.val())&&this._on(e.mobile.window,{load:"_keyup"})}o.attr("disabled")&&this.disable()},disable:function(){var e,t=this.element.is("[type='search'], :jqmData(type='search')"),a=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),i=this.element.attr("disabled",!0)&&(a||t);return e=i?this.element.parent():this.element,e.addClass("ui-disabled"),this._setOption("disabled",!0)},enable:function(){var e,t=this.element.is("[type='search'], :jqmData(type='search')"),a=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),i=this.element.attr("disabled",!1)&&(a||t);return e=i?this.element.parent():this.element,e.removeClass("ui-disabled"),this._setOption("disabled",!1)}}),e.mobile.document.bind("pagecreate create",function(t){e.mobile.textinput.prototype.enhanceWithin(t.target,!0)})}(e),function(e,i){function n(t){!!f&&(!f.closest("."+e.mobile.activePageClass).length||t)&&f.removeClass(e.mobile.activeBtnClass),f=null}function o(){C=!1,b.length>0&&e.mobile.changePage.apply(null,b.pop())}function s(t,a,i,n){a&&a.data("mobile-page")._trigger("beforehide",null,{nextPage:t}),t.data("mobile-page")._trigger("beforeshow",null,{prevPage:a||e("")}),e.mobile.hidePageLoadingMsg(),i=e.mobile._maybeDegradeTransition(i);var o=e.mobile.transitionHandlers[i||"default"]||e.mobile.defaultTransitionHandler,s=o(i,n,t,a);return s.done(function(){a&&a.data("mobile-page")._trigger("hide",null,{nextPage:t}),t.data("mobile-page")._trigger("show",null,{prevPage:a||e("")})}),s}function r(t,a){a&&t.attr("data-"+e.mobile.ns+"role",a),t.page()}function l(){var t=e.mobile.activePage&&d(e.mobile.activePage);return t||_.hrefNoHash}function c(e){for(;e&&("string"!=typeof e.nodeName||"a"!==e.nodeName.toLowerCase());)e=e.parentNode;return e}function d(t){var a=e(t).closest(".ui-page").jqmData("url"),i=_.hrefNoHash;return a&&p.isPath(a)||(a=i),p.makeUrlAbsolute(a,i)}var h=e.mobile.window,u=(e("html"),e("head")),p=e.extend(e.mobile.path,{getFilePath:function(t){var a="&"+e.mobile.subPageUrlKey;return t&&t.split(a)[0].split(y)[0]},isFirstPageUrl:function(t){var a=p.parseUrl(p.makeUrlAbsolute(t,this.documentBase)),n=a.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&a.hrefNoHash===this.documentBase.hrefNoHash,o=e.mobile.firstPage,s=o&&o[0]?o[0].id:i;return n&&(!a.hash||"#"===a.hash||s&&a.hash.replace(/^#/,"")===s)},isPermittedCrossDomainRequest:function(t,a){return e.mobile.allowCrossDomainPages&&"file:"===t.protocol&&-1!==a.search(/^https?:/)}}),m=null,f=null,g=e.Deferred(),v=e.mobile.navigate.history,b=[],C=!1,y="&ui-state=dialog",w=u.children("base"),x=p.documentUrl,_=p.documentBase,T=(p.documentBaseDiffers,e.mobile.getScreenHeight),k=e.support.dynamicBaseTag?{element:w.length?w:e("<base>",{href:_.hrefNoHash}).prependTo(u),set:function(e){e=p.parseUrl(e).hrefNoHash,k.element.attr("href",p.makeUrlAbsolute(e,_))},reset:function(){k.element.attr("href",_.hrefNoSearch)}}:i;e.mobile.getDocumentUrl=p.getDocumentUrl,e.mobile.getDocumentBase=p.getDocumentBase,e.mobile.back=function(){var e=t.navigator;this.phonegapNavigationEnabled&&e&&e.app&&e.app.backHistory?e.app.backHistory():t.history.back()},e.mobile.focusPage=function(e){var t=e.find("[autofocus]"),a=e.find(".ui-title:eq(0)");return t.length?void t.focus():void(a.length?a.focus():e.focus())};var A,P,D=!0;A=function(){if(D){var t=e.mobile.urlHistory.getActive();if(t){var a=h.scrollTop();t.lastScroll=a<e.mobile.minScrollBack?e.mobile.defaultHomeScroll:a}}},P=function(){setTimeout(A,100)},h.bind(e.support.pushState?"popstate":"hashchange",function(){D=!1}),h.one(e.support.pushState?"popstate":"hashchange",function(){D=!0}),h.one("pagecontainercreate",function(){e.mobile.pageContainer.bind("pagechange",function(){D=!0,h.unbind("scrollstop",P),h.bind("scrollstop",P)})}),h.bind("scrollstop",P),e.mobile._maybeDegradeTransition=e.mobile._maybeDegradeTransition||function(e){return e},e.mobile.resetActivePageHeight=function(t){var a=e("."+e.mobile.activePageClass),i=parseFloat(a.css("padding-top")),n=parseFloat(a.css("padding-bottom")),o=parseFloat(a.css("border-top-width")),s=parseFloat(a.css("border-bottom-width"));t="number"==typeof t?t:T(),a.css("min-height",t-i-n-o-s)},e.fn.animationComplete=function(t){return e.support.cssTransitions?e(this).one("webkitAnimationEnd animationend",t):(setTimeout(t,0),e(this))},e.mobile.path=p,e.mobile.base=k,e.mobile.urlHistory=v,e.mobile.dialogHashKey=y,e.mobile.allowCrossDomainPages=!1,e.mobile._bindPageRemove=function(){var t=e(this);!t.data("mobile-page").options.domCache&&t.is(":jqmData(external-page='true')")&&t.bind("pagehide.remove",function(t){var a=e(this),i=new e.Event("pageremove");a.trigger(i),i.isDefaultPrevented()||a.removeWithDependents()})},e.mobile.loadPage=function(t,a){var n=e.Deferred(),o=e.extend({},e.mobile.loadPage.defaults,a),s=null,c=null,d=p.makeUrlAbsolute(t,l());o.data&&"get"===o.type&&(d=p.addSearchParams(d,o.data),o.data=i),o.data&&"post"===o.type&&(o.reloadPage=!0);var h=p.getFilePath(d),u=p.convertUrlToDataUrl(d);if(o.pageContainer=o.pageContainer||e.mobile.pageContainer,s=o.pageContainer.children("[data-"+e.mobile.ns+"url='"+u+"']"),0===s.length&&u&&!p.isPath(u)&&(s=o.pageContainer.children("#"+u).attr("data-"+e.mobile.ns+"url",u).jqmData("url",u)),0===s.length)if(e.mobile.firstPage&&p.isFirstPageUrl(h))e.mobile.firstPage.parent().length&&(s=e(e.mobile.firstPage));else if(p.isEmbeddedPage(h))return n.reject(d,a),n.promise();if(s.length){if(!o.reloadPage)return r(s,o.role),n.resolve(d,a,s),n.promise();c=s}var m=o.pageContainer,f=new e.Event("pagebeforeload"),g={url:t,absUrl:d,dataUrl:u,deferred:n,options:o};if(m.trigger(f,g),f.isDefaultPrevented())return n.promise();if(o.showLoadMsg)var v=setTimeout(function(){e.mobile.showPageLoadingMsg()},o.loadMsgDelay),b=function(){clearTimeout(v),e.mobile.hidePageLoadingMsg()};return k&&k.reset(),e.mobile.allowCrossDomainPages||p.isSameDomain(x,d)?e.ajax({url:h,type:o.type,data:o.data,dataType:"html",success:function(i,l,m){var f=e("<div></div>"),v=i.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,C=new RegExp("(<[^>]+\\bdata-"+e.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),y=new RegExp("\\bdata-"+e.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(C.test(i)&&RegExp.$1&&y.test(RegExp.$1)&&RegExp.$1&&(t=h=p.getFilePath(e("<div>"+RegExp.$1+"</div>").text())),k&&k.set(h),f.get(0).innerHTML=i,s=f.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),s.length||(s=e("<div data-"+e.mobile.ns+"role='page'>"+(i.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),v&&!s.jqmData("title")&&(~v.indexOf("&")&&(v=e("<div>"+v+"</div>").text()),s.jqmData("title",v)),!e.support.dynamicBaseTag){var w=p.get(h);s.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){
var t=e(this).is("[href]")?"href":e(this).is("[src]")?"src":"action",a=e(this).attr(t);a=a.replace(location.protocol+"//"+location.host+location.pathname,""),/^(\w+:|#|\/)/.test(a)||e(this).attr(t,w+a)})}s.attr("data-"+e.mobile.ns+"url",p.convertUrlToDataUrl(h)).attr("data-"+e.mobile.ns+"external-page",!0).appendTo(o.pageContainer),s.one("pagecreate",e.mobile._bindPageRemove),r(s,o.role),d.indexOf("&"+e.mobile.subPageUrlKey)>-1&&(s=o.pageContainer.children("[data-"+e.mobile.ns+"url='"+u+"']")),o.showLoadMsg&&b(),g.xhr=m,g.textStatus=l,g.page=s,o.pageContainer.trigger("pageload",g),n.resolve(d,a,s,c)},error:function(t,i,s){k&&k.set(p.get()),g.xhr=t,g.textStatus=i,g.errorThrown=s;var r=new e.Event("pageloadfailed");o.pageContainer.trigger(r,g),r.isDefaultPrevented()||(o.showLoadMsg&&(b(),e.mobile.showPageLoadingMsg(e.mobile.pageLoadErrorMessageTheme,e.mobile.pageLoadErrorMessage,!0),setTimeout(e.mobile.hidePageLoadingMsg,1500)),n.reject(d,a))}}):n.reject(d,a),n.promise()},e.mobile.loadPage.defaults={type:"get",data:i,reloadPage:!1,role:i,showLoadMsg:!1,pageContainer:i,loadMsgDelay:50},e.mobile.changePage=function(t,c){if(C)return void b.unshift(arguments);var d,h=e.extend({},e.mobile.changePage.defaults,c);h.pageContainer=h.pageContainer||e.mobile.pageContainer,h.fromPage=h.fromPage||e.mobile.activePage,d="string"==typeof t;var u=h.pageContainer,m=new e.Event("pagebeforechange"),f={toPage:t,options:h};if(d?f.absUrl=p.makeUrlAbsolute(t,l()):f.absUrl=t.data("absUrl"),u.trigger(m,f),!m.isDefaultPrevented()){if(t=f.toPage,d="string"==typeof t,C=!0,d)return h.target=t,void e.mobile.loadPage(t,h).done(function(t,a,i,n){C=!1,a.duplicateCachedPage=n,i.data("absUrl",f.absUrl),e.mobile.changePage(i,a)}).fail(function(e,t){C=!1,n(!0),o(),h.pageContainer.trigger("pagechangefailed",f)});t[0]===e.mobile.firstPage[0]&&!h.dataUrl&&(h.dataUrl=x.hrefNoHash);var g=h.fromPage,w=h.dataUrl&&p.convertUrlToDataUrl(h.dataUrl)||t.jqmData("url"),_=w,T=(p.getFilePath(w),v.getActive()),k=0===v.activeIndex,A=0,P=a.title,D="dialog"===h.role||"dialog"===t.jqmData("role");if(g&&g[0]===t[0]&&!h.allowSamePageTransition)return C=!1,u.trigger("pagechange",f),h.fromHashChange&&v.direct({url:w}),void 0;r(t,h.role),h.fromHashChange&&(A="back"===c.direction?-1:1);try{a.activeElement&&"body"!==a.activeElement.nodeName.toLowerCase()?e(a.activeElement).blur():e("input:focus, textarea:focus, select:focus").blur()}catch(N){}var S=!1;D&&T&&(T.url&&T.url.indexOf(y)>-1&&e.mobile.activePage&&!e.mobile.activePage.is(".ui-dialog")&&v.activeIndex>0&&(h.changeHash=!1,S=!0),w=T.url||"",w+=!S&&w.indexOf("#")>-1?y:"#"+y,0===v.activeIndex&&w===v.initialDst&&(w+=y));var q=T?t.jqmData("title")||t.children(":jqmData(role='header')").find(".ui-title").getEncodedText():P;if(!!q&&P===a.title&&(P=q),t.jqmData("title")||t.jqmData("title",P),h.transition=h.transition||(A&&!k?T.transition:i)||(D?e.mobile.defaultDialogTransition:e.mobile.defaultPageTransition),!A&&S&&(v.getActive().pageUrl=_),w&&!h.fromHashChange){var E;!p.isPath(w)&&w.indexOf("#")<0&&(w="#"+w),E={transition:h.transition,title:P,pageUrl:_,role:h.role},h.changeHash!==!1&&e.mobile.hashListeningEnabled?e.mobile.navigate(w,E,!0):t[0]!==e.mobile.firstPage[0]&&e.mobile.navigate.history.add(w,E)}a.title=P,e.mobile.activePage=t,h.reverse=h.reverse||0>A,s(t,g,h.transition,h.reverse).done(function(a,i,s,r,l){n(),h.duplicateCachedPage&&h.duplicateCachedPage.remove(),l||e.mobile.focusPage(t),o(),u.trigger("pagechange",f)})}},e.mobile.changePage.defaults={transition:i,reverse:!1,changeHash:!0,fromHashChange:!1,role:i,duplicateCachedPage:i,pageContainer:i,showLoadMsg:!0,dataUrl:i,fromPage:i,allowSamePageTransition:!1},e.mobile.navreadyDeferred=e.Deferred(),e.mobile._registerInternalEvents=function(){var a=function(t,a){var i,n,o,s,r,l=!0;return e.mobile.ajaxEnabled&&!t.is(":jqmData(ajax='false')")&&t.jqmHijackable().length?(n=t.attr("target"),o=t.attr("action"),o||(o=d(t),o===_.hrefNoHash&&(o=x.hrefNoSearch)),o=p.makeUrlAbsolute(o,d(t)),p.isExternal(o)&&!p.isPermittedCrossDomainRequest(x,o)||n?!1:(a||(i=t.attr("method"),s=t.serializeArray(),m&&m[0].form===t[0]&&(r=m.attr("name"),r&&(e.each(s,function(e,t){return t.name===r?(r="",!1):void 0}),r&&s.push({name:r,value:m.attr("value")}))),l={url:o,options:{type:i&&i.length&&i.toLowerCase()||"get",data:e.param(s),transition:t.jqmData("transition"),reverse:"reverse"===t.jqmData("direction"),reloadPage:!0}}),l)):!1};e.mobile.document.delegate("form","submit",function(t){var i=a(e(this));i&&(e.mobile.changePage(i.url,i.options),t.preventDefault())}),e.mobile.document.bind("vclick",function(t){var i,o,s=t.target,r=!1;if(!(t.which>1)&&e.mobile.linkBindingEnabled){if(m=e(s),e.data(s,"mobile-button")){if(!a(e(s).closest("form"),!0))return;s.parentNode&&(s=s.parentNode)}else{if(s=c(s),!s||"#"===p.parseUrl(s.getAttribute("href")||"#").hash)return;if(!e(s).jqmHijackable().length)return}~s.className.indexOf("ui-link-inherit")?s.parentNode&&(o=e.data(s.parentNode,"buttonElements")):o=e.data(s,"buttonElements"),o?s=o.outer:r=!0,i=e(s),r&&(i=i.closest(".ui-btn")),i.length>0&&!i.hasClass("ui-disabled")&&(n(!0),f=i,f.addClass(e.mobile.activeBtnClass))}}),e.mobile.document.bind("click",function(a){if(e.mobile.linkBindingEnabled&&!a.isDefaultPrevented()){var o,s=c(a.target),r=e(s);if(s&&!(a.which>1)&&r.jqmHijackable().length){if(o=function(){t.setTimeout(function(){n(!0)},200)},r.is(":jqmData(rel='back')"))return e.mobile.back(),!1;var l=d(r),h=p.makeUrlAbsolute(r.attr("href")||"#",l);if(!e.mobile.ajaxEnabled&&!p.isEmbeddedPage(h))return void o();if(-1!==h.search("#")){if(h=h.replace(/[^#]*#/,""),!h)return void a.preventDefault();h=p.isPath(h)?p.makeUrlAbsolute(h,l):p.makeUrlAbsolute("#"+h,x.hrefNoHash)}var u=r.is("[rel='external']")||r.is(":jqmData(ajax='false')")||r.is("[target]"),m=u||p.isExternal(h)&&!p.isPermittedCrossDomainRequest(x,h);if(m)return void o();var f=r.jqmData("transition"),g="reverse"===r.jqmData("direction")||r.jqmData("back"),v=r.attr("data-"+e.mobile.ns+"rel")||i;e.mobile.changePage(h,{transition:f,reverse:g,role:v,link:r}),a.preventDefault()}}}),e.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var t=[];e(this).find("a:jqmData(prefetch)").each(function(){var a=e(this),i=a.attr("href");i&&-1===e.inArray(i,t)&&(t.push(i),e.mobile.loadPage(i,{role:a.attr("data-"+e.mobile.ns+"rel")}))})}),e.mobile._handleHashChange=function(a,n){var o=p.stripHash(a),s=0===e.mobile.urlHistory.stack.length?"none":i,r={changeHash:!1,fromHashChange:!0,reverse:"back"===n.direction};if(e.extend(r,n,{transition:(v.getLast()||{}).transition||s}),v.activeIndex>0&&o.indexOf(y)>-1&&v.initialDst!==o){if(e.mobile.activePage&&!e.mobile.activePage.is(".ui-dialog"))return void("back"===n.direction?e.mobile.back():t.history.forward());o=n.pageUrl;var l=e.mobile.urlHistory.getActive();e.extend(r,{role:l.role,transition:l.transition,reverse:"back"===n.direction})}o?(o=p.isPath(o)?o:p.makeUrlAbsolute("#"+o,_),o===p.makeUrlAbsolute("#"+v.initialDst,_)&&v.stack.length&&v.stack[0].url!==v.initialDst.replace(y,"")&&(o=e.mobile.firstPage),e.mobile.changePage(o,r)):e.mobile.changePage(e.mobile.firstPage,r)},h.bind("navigate",function(t,a){var i=e.event.special.navigate.originalEventName.indexOf("hashchange")>-1?a.state.hash:a.state.url;i||(i=e.mobile.path.parseLocation().hash),i&&"#"!==i&&0!==i.indexOf("#"+e.mobile.path.uiStateKey)||(i=location.href),e.mobile._handleHashChange(i,a.state)}),e.mobile.document.bind("pageshow",e.mobile.resetActivePageHeight),e.mobile.window.bind("throttledresize",e.mobile.resetActivePageHeight)},e(function(){g.resolve()}),e.when(g,e.mobile.navreadyDeferred).done(function(){e.mobile._registerInternalEvents()})}(e),function(e,t,a){e.widget("mobile.dialog",e.mobile.widget,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,initSelector:":jqmData(role='dialog')"},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_create:function(){var t=this.element,a=this.options.corners?" ui-corner-all":"",i=e("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+a});t.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme),t.wrapInner(i),t.bind("vclick submit",function(t){var a,i=e(t.target).closest("vclick"===t.type?"a":"form");i.length&&!i.jqmData("transition")&&(a=e.mobile.urlHistory.getActive()||{},i.attr("data-"+e.mobile.ns+"transition",a.transition||e.mobile.defaultDialogTransition).attr("data-"+e.mobile.ns+"direction","reverse"))}),this._on(t,{pagebeforeshow:"_handlePageBeforeShow"}),e.extend(this,{_createComplete:!1}),this._setCloseBtn(this.options.closeBtn)},_setCloseBtn:function(t){var a,i,n=this;this._headerCloseButton&&(this._headerCloseButton.remove(),this._headerCloseButton=null),"none"!==t&&(i="left"===t?"left":"right",a=e("<a href='#' class='ui-btn-"+i+"' data-"+e.mobile.ns+"icon='delete' data-"+e.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),this.element.children().find(":jqmData(role='header')").first().prepend(a),this._createComplete&&e.fn.buttonMarkup&&a.buttonMarkup(),this._createComplete=!0,a.bind("click",function(){n.close()}),this._headerCloseButton=a)},_setOption:function(t,a){"closeBtn"===t&&(this._setCloseBtn(a),this._super(t,a),this.element.attr("data-"+(e.mobile.ns||"")+"close-btn",a))},close:function(){var t,a,i=e.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,e.mobile.hashListeningEnabled&&i.activeIndex>0?e.mobile.back():(t=Math.max(0,i.activeIndex-1),a=i.stack[t].pageUrl||i.stack[t].url,i.previousIndex=i.activeIndex,i.activeIndex=t,e.mobile.path.isPath(a)||(a=e.mobile.path.makeUrlAbsolute("#"+a)),e.mobile.changePage(a,{direction:"back",changeHash:!1,fromHashChange:!0})))}}),e.mobile.document.delegate(e.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){e.mobile.dialog.prototype.enhance(this)})}(e,this),function(e,t){e.mobile.page.prototype.options.backBtnText="Back",e.mobile.page.prototype.options.addBackBtn=!1,e.mobile.page.prototype.options.backBtnTheme=null,e.mobile.page.prototype.options.headerTheme="a",e.mobile.page.prototype.options.footerTheme="a",e.mobile.page.prototype.options.contentTheme=null,e.mobile.document.bind("pagecreate",function(t){var a=e(t.target),i=a.data("mobile-page").options,n=a.jqmData("role"),o=i.theme;e(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",a).jqmEnhanceable().each(function(){var t,s,r,l,c=e(this),d=c.jqmData("role"),h=c.jqmData("theme"),u=h||i.contentTheme||"dialog"===n&&o;if(c.addClass("ui-"+d),"header"===d||"footer"===d){var p=h||("header"===d?i.headerTheme:i.footerTheme)||o;c.addClass("ui-bar-"+p).attr("role","header"===d?"banner":"contentinfo"),"header"===d&&(t=c.children("a, button"),s=t.hasClass("ui-btn-left"),r=t.hasClass("ui-btn-right"),s=s||t.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,r=r||t.eq(1).addClass("ui-btn-right").length),i.addBackBtn&&"header"===d&&e(".ui-page").length>1&&a.jqmData("url")!==e.mobile.path.stripHash(location.hash)&&!s&&(l=e("<a href='javascript:void(0);' class='ui-btn-left' data-"+e.mobile.ns+"rel='back' data-"+e.mobile.ns+"icon='arrow-l'>"+i.backBtnText+"</a>").attr("data-"+e.mobile.ns+"theme",i.backBtnTheme||p).prependTo(c)),c.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else"content"===d&&(u&&c.addClass("ui-body-"+u),c.attr("role","main"))})})}(e),function(e,t){e.widget("mobile.fixedtoolbar",e.mobile.widget,{options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!e.support.fixedPosition},initSelector:":jqmData(position='fixed')"},_create:function(){var t=this,a=t.options,i=t.element,n=i.is(":jqmData(role='header')")?"header":"footer",o=i.closest(".ui-page");return a.supportBlacklist()?void t.destroy():(i.addClass("ui-"+n+"-fixed"),a.fullscreen?(i.addClass("ui-"+n+"-fullscreen"),o.addClass("ui-page-"+n+"-fullscreen")):o.addClass("ui-page-"+n+"-fixed"),e.extend(this,{_thisPage:null}),t._addTransitionClass(),t._bindPageEvents(),t._bindToggleHandlers(),void 0)},_addTransitionClass:function(){var e=this.options.transition;e&&"none"!==e&&("slide"===e&&(e=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(e))},_bindPageEvents:function(){this._thisPage=this.element.closest(".ui-page"),this._on(this._thisPage,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var t=this.options;t.disablePageZoom&&e.mobile.zoom.disable(!0),t.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this._thisPage)},_handlePageShow:function(){this.updatePagePadding(this._thisPage),this.options.updatePagePadding&&this._on(e.mobile.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(t,a){var i=this.options;if(i.disablePageZoom&&e.mobile.zoom.enable(!0),i.updatePagePadding&&this._off(e.mobile.window,"throttledresize"),i.trackPersistentToolbars){var n=e(".ui-footer-fixed:jqmData(id)",this._thisPage),o=e(".ui-header-fixed:jqmData(id)",this._thisPage),s=n.length&&a.nextPage&&e(".ui-footer-fixed:jqmData(id='"+n.jqmData("id")+"')",a.nextPage)||e(),r=o.length&&a.nextPage&&e(".ui-header-fixed:jqmData(id='"+o.jqmData("id")+"')",a.nextPage)||e();(s.length||r.length)&&(s.add(r).appendTo(e.mobile.pageContainer),a.nextPage.one("pageshow",function(){r.prependTo(this),s.appendTo(this)}))}},_visible:!0,updatePagePadding:function(t){var a=this.element,i=a.is(".ui-header"),n=parseFloat(a.css(i?"top":"bottom"));this.options.fullscreen||(t=t||this._thisPage||a.closest(".ui-page"),e(t).css("padding-"+(i?"top":"bottom"),a.outerHeight()+n))},_useTransition:function(t){var a=e.mobile.window,i=this.element,n=a.scrollTop(),o=i.height(),s=i.closest(".ui-page").height(),r=e.mobile.getScreenHeight(),l=i.is(":jqmData(role='header')")?"header":"footer";return!t&&(this.options.transition&&"none"!==this.options.transition&&("header"===l&&!this.options.fullscreen&&n>o||"footer"===l&&!this.options.fullscreen&&s-o>n+r)||this.options.fullscreen)},show:function(e){var t="ui-fixed-hidden",a=this.element;this._useTransition(e)?a.removeClass("out "+t).addClass("in").animationComplete(function(){a.removeClass("in")}):a.removeClass(t),this._visible=!0},hide:function(e){var t="ui-fixed-hidden",a=this.element,i="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(e)?a.addClass(i).removeClass("in").animationComplete(function(){a.addClass(t).removeClass(i)}):a.addClass(t).removeClass(i),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var t,a=this,i=a.options,n=a.element;n.closest(".ui-page").bind("vclick",function(t){i.tapToggle&&!e(t.target).closest(i.tapToggleBlacklist).length&&a.toggle()}).bind("focusin focusout",function(n){screen.width<1025&&e(n.target).is(i.hideDuringFocus)&&!e(n.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==n.type||a._visible?"focusin"===n.type&&a._visible&&(clearTimeout(t),a.hide()):t=setTimeout(function(){a.show()},0))})},_destroy:function(){var e=this.element,t=e.is(".ui-header");e.closest(".ui-page").css("padding-"+(t?"top":"bottom"),""),e.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden"),e.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}}),e.mobile.document.bind("pagecreate create",function(t){e(t.target).jqmData("fullscreen")&&e(e.mobile.fixedtoolbar.prototype.options.initSelector,t.target).not(":jqmData(fullscreen)").jqmData("fullscreen",!0),e.mobile.fixedtoolbar.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.widget("mobile.fixedtoolbar",e.mobile.fixedtoolbar,{_create:function(){this._super(),this._workarounds()},_workarounds:function(){var e=navigator.userAgent,t=navigator.platform,a=e.match(/AppleWebKit\/([0-9]+)/),i=!!a&&a[1],n=null,o=this;if(t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1||t.indexOf("iPod")>-1)n="ios";else{if(!(e.indexOf("Android")>-1))return;n="android"}if("ios"===n)o._bindScrollWorkaround();else{if(!("android"===n&&i&&534>i))return;o._bindScrollWorkaround(),o._bindListThumbWorkaround()}},_viewportOffset:function(){var t=this.element,a=t.is(".ui-header"),i=Math.abs(t.offset().top-e.mobile.window.scrollTop());return a||(i=Math.round(i-e.mobile.window.height()+t.outerHeight())-60),i},_bindScrollWorkaround:function(){var t=this;this._on(e.mobile.window,{scrollstop:function(){var e=t._viewportOffset();e>2&&t._visible&&t._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var t=parseFloat(e(".ui-page-active").css("padding-bottom"));e(".ui-page-active").css("padding-bottom",t+1+"px"),setTimeout(function(){e(".ui-page-active").css("padding-bottom",t+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(e),function(e,t){var i={};e.widget("mobile.listview",e.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",icon:"arrow-r",splitIcon:"arrow-r",splitTheme:"b",corners:!0,shadow:!0,inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var e=this,t="";t+=e.options.inset?" ui-listview-inset":"",!e.options.inset||(t+=e.options.corners?" ui-corner-all":"",t+=e.options.shadow?" ui-shadow":""),e.element.addClass(function(e,a){return a+" ui-listview"+t}),e.refresh(!0)},_findFirstElementByTagName:function(e,t,a,i){var n={};for(n[a]=n[i]=!0;e;){if(n[e.nodeName])return e;e=e[t]}return null},_getChildrenByTagName:function(t,a,i){var n=[],o={};for(o[a]=o[i]=!0,t=t.firstChild;t;)o[t.nodeName]&&n.push(t),t=t.nextSibling;return e(n)},_addThumbClasses:function(t){var a,i,n=t.length;for(a=0;n>a;a++)i=e(this._findFirstElementByTagName(t[a].firstChild,"nextSibling","img","IMG")),i.length&&(i.addClass("ui-li-thumb"),e(this._findFirstElementByTagName(i[0].parentNode,"parentNode","li","LI")).addClass(i.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(t){this.parentPage=this.element.closest(".ui-page"),this._createSubPages();var i,n,o,s,r,l,c,d,h,u,p,m,f=this.options,g=this.element,v=g.jqmData("dividertheme")||f.dividerTheme,b=g.jqmData("splittheme"),C=g.jqmData("spliticon"),y=g.jqmData("icon"),w=this._getChildrenByTagName(g[0],"li","LI"),x=!!e.nodeName(g[0],"ol"),_=!e.support.cssPseudoElement,T=g.attr("start"),k={};x&&_&&g.find(".ui-li-dec").remove(),x&&(T||0===T?_?c=parseInt(T,10):(d=parseInt(T,10)-1,g.css("counter-reset","listnumbering "+d)):_&&(c=1)),f.theme||(f.theme=e.mobile.getInheritedTheme(this.element,"c"));for(var A=0,P=w.length;P>A;A++){if(i=w.eq(A),n="ui-li",t||!i.hasClass("ui-li")){o=i.jqmData("theme")||f.theme,s=this._getChildrenByTagName(i[0],"a","A");var D="list-divider"===i.jqmData("role");s.length&&!D?(p=i.jqmData("icon"),i.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:s.length>1||p===!1?!1:p||y||f.icon,theme:o}),p!==!1&&1===s.length&&i.addClass("ui-li-has-arrow"),s.first().removeClass("ui-link").addClass("ui-link-inherit"),s.length>1&&(n+=" ui-li-has-alt",r=s.last(),l=b||r.jqmData("theme")||f.splitTheme,m=r.jqmData("icon"),r.appendTo(i).attr("title",e.trim(r.getEncodedText())).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:o,icon:!1,iconpos:"notext"}).find(".ui-btn-inner").append(e(a.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:l,iconpos:"notext",icon:m||p||C||f.splitIcon})))):D?(n+=" ui-li-divider ui-bar-"+(i.jqmData("theme")||v),i.attr("role","heading"),x&&(T||0===T?_?c=parseInt(T,10):(h=parseInt(T,10)-1,i.css("counter-reset","listnumbering "+h)):_&&(c=1))):n+=" ui-li-static ui-btn-up-"+o}x&&_&&n.indexOf("ui-li-divider")<0&&(u=n.indexOf("ui-li-static")>0?i:i.find(".ui-link-inherit"),u.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+c++ +". </span>")),k[n]||(k[n]=[]),k[n].push(i[0])}for(n in k)e(k[n]).addClass(n).children(".ui-btn-inner").addClass(n);g.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var t=e(this);t.prependTo(t.parent())}).end().find(".ui-li-count").each(function(){e(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(g.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all"),this._addThumbClasses(w),this._addThumbClasses(g.find(".ui-link-inherit")),this._addFirstLastClasses(w,this._getVisibles(w,t),t),this._trigger("afterrefresh")},_idStringEscape:function(e){return e.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var t,a=this.element,n=a.closest(".ui-page"),o=n.jqmData("url"),s=o||n[0][e.expando],r=a.attr("id"),l=this.options,c="data-"+e.mobile.ns,d=this,h=n.find(":jqmData(role='footer')").jqmData("id");if("undefined"==typeof i[s]&&(i[s]=-1),r=r||++i[s],e(a.find("li>ul, li>ol").toArray().reverse()).each(function(i){var n,s,d=e(this),u=d.attr("id")||r+"-"+i,p=d.parent(),m=e(d.prevAll().toArray().reverse()),f=m.length?m:e("<span>"+e.trim(p.contents()[0].nodeValue)+"</span>"),g=f.first().getEncodedText(),v=(o||"")+"&"+e.mobile.subPageUrlKey+"="+u,b=d.jqmData("theme")||l.theme,C=d.jqmData("counttheme")||a.jqmData("counttheme")||l.countTheme;t=!0,n=d.detach().wrap("<div "+c+"role='page' "+c+"url='"+v+"' "+c+"theme='"+b+"' "+c+"count-theme='"+C+"'><div "+c+"role='content'></div></div>").parent().before("<div "+c+"role='header' "+c+"theme='"+l.headerTheme+"'><div class='ui-title'>"+g+"</div></div>").after(h?e("<div "+c+"role='footer' "+c+"id='"+h+"'>"):"").parent().appendTo(e.mobile.pageContainer),n.page(),s=p.find("a:first"),s.length||(s=e("<a/>").html(f||g).prependTo(p.empty())),s.attr("href","#"+v)}).listview(),t&&n.is(":jqmData(external-page='true')")&&n.data("mobile-page").options.domCache===!1){var u=function(t,a){var i,s=a.nextPage,r=new e.Event("pageremove");a.nextPage&&(i=s.jqmData("url"),0!==i.indexOf(o+"&"+e.mobile.subPageUrlKey)&&(d.childPages().remove(),n.trigger(r),r.isDefaultPrevented()||n.removeWithDependents()))};n.unbind("pagehide.remove").bind("pagehide.remove",u)}},childPages:function(){var t=this.parentPage.jqmData("url");return e(":jqmData(url^='"+t+"&"+e.mobile.subPageUrlKey+"')")}}),e.widget("mobile.listview",e.mobile.listview,e.mobile.behaviors.addFirstLastClasses),e.mobile.document.bind("pagecreate create",function(t){e.mobile.listview.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.mobile.listview.prototype.options.autodividers=!1,e.mobile.listview.prototype.options.autodividersSelector=function(t){var a=e.trim(t.text())||null;return a?a=a.slice(0,1).toUpperCase():null},e.mobile.document.delegate("ul,ol","listviewcreate",function(){var t=e(this),i=t.data("mobile-listview");if(i&&i.options.autodividers){var n=function(){t.find("li:jqmData(role='list-divider')").remove();for(var n,o,s=t.find("li"),r=null,l=0;l<s.length;l++){if(n=s[l],o=i.options.autodividersSelector(e(n)),o&&r!==o){var c=a.createElement("li");c.appendChild(a.createTextNode(o)),c.setAttribute("data-"+e.mobile.ns+"role","list-divider"),n.parentNode.insertBefore(c,n)}r=o}},o=function(){t.unbind("listviewafterrefresh",o),n(),i.refresh(),t.bind("listviewafterrefresh",o)};o()}})}(e),function(e,t){e.mobile.listview.prototype.options.filter=!1,e.mobile.listview.prototype.options.filterPlaceholder="Filter items...",e.mobile.listview.prototype.options.filterTheme="c",e.mobile.listview.prototype.options.filterReveal=!1;var a=function(e,t,a){return-1===e.toString().toLowerCase().indexOf(t)};e.mobile.listview.prototype.options.filterCallback=a,e.mobile.document.delegate("ul, ol","listviewcreate",function(){var t=e(this),i=t.data("mobile-listview");if(i.options.filter){i.options.filterReveal&&t.children().addClass("ui-screen-hidden");var n=e("<form>",{"class":"ui-listview-filter ui-bar-"+i.options.filterTheme,role:"search"}).submit(function(e){e.preventDefault(),s.blur()}),o=function(n){var o,s=e(this),r=this.value.toLowerCase(),l=null,c=t.children(),d=s.jqmData("lastval")+"",h=!1,u="",p=i.options.filterCallback!==a;if(!d||d!==r){if(i._trigger("beforefilter","beforefilter",{input:this}),s.jqmData("lastval",r),p||r.length<d.length||0!==r.indexOf(d)?l=t.children():(l=t.children(":not(.ui-screen-hidden)"),!l.length&&i.options.filterReveal&&(l=t.children(".ui-screen-hidden"))),r){for(var m=l.length-1;m>=0;m--)o=e(l[m]),u=o.jqmData("filtertext")||o.text(),o.is("li:jqmData(role=list-divider)")?(o.toggleClass("ui-filter-hidequeue",!h),h=!1):i.options.filterCallback(u,r,o)?o.toggleClass("ui-filter-hidequeue",!0):h=!0;l.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),l.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else l.toggleClass("ui-screen-hidden",!!i.options.filterReveal);i._addFirstLastClasses(c,i._getVisibles(c,!1),!1)}},s=e("<input>",{placeholder:i.options.filterPlaceholder}).attr("data-"+e.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change input",o).appendTo(n).textinput();i.options.inset&&n.addClass("ui-listview-filter-inset"),n.bind("submit",function(){return!1}).insertBefore(t)}})}(e),function(e,i){e.widget("mobile.panel",e.mobile.widget,{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pagePanel:"ui-page-panel",pagePanelOpen:"ui-page-panel-open",contentWrap:"ui-panel-content-wrap",contentWrapOpen:"ui-panel-content-wrap-open",contentWrapClosed:"ui-panel-content-wrap-closed",contentFixedToolbar:"ui-panel-content-fixed-toolbar",contentFixedToolbarOpen:"ui-panel-content-fixed-toolbar-open",contentFixedToolbarClosed:"ui-panel-content-fixed-toolbar-closed",animate:"ui-panel-animate"},animate:!0,theme:"c",position:"left",dismissible:!0,display:"reveal",initSelector:":jqmData(role='panel')",swipeClose:!0,positionFixed:!1},_panelID:null,_closeLink:null,_page:null,_modal:null,_pannelInner:null,_wrapper:null,_fixedToolbar:null,_create:function(){var t=this,a=t.element,i=a.closest(":jqmData(role='page')"),n=function(){var t=e.data(i[0],"mobilePage").options.theme,a="ui-body-"+t;return a},o=function(){var e=a.find("."+t.options.classes.panelInner);return 0===e.length&&(e=a.children().wrapAll('<div class="'+t.options.classes.panelInner+'" />').parent()),e},s=function(){var a=i.find("."+t.options.classes.contentWrap);return 0===a.length&&(a=i.children(".ui-header:not(:jqmData(position='fixed')), .ui-content:not(:jqmData(role='popup')), .ui-footer:not(:jqmData(position='fixed'))").wrapAll('<div class="'+t.options.classes.contentWrap+" "+n()+'" />').parent(),e.support.cssTransform3d&&!!t.options.animate&&a.addClass(t.options.classes.animate)),a},r=function(){var a=i.find("."+t.options.classes.contentFixedToolbar);return 0===a.length&&(a=i.find(".ui-header:jqmData(position='fixed'), .ui-footer:jqmData(position='fixed')").addClass(t.options.classes.contentFixedToolbar),e.support.cssTransform3d&&!!t.options.animate&&a.addClass(t.options.classes.animate)),a};e.extend(this,{_panelID:a.attr("id"),_closeLink:a.find(":jqmData(rel='close')"),_page:a.closest(":jqmData(role='page')"),_pageTheme:n(),_pannelInner:o(),_wrapper:s(),_fixedToolbar:r()}),t._addPanelClasses(),t._wrapper.addClass(this.options.classes.contentWrapClosed),t._fixedToolbar.addClass(this.options.classes.contentFixedToolbarClosed),t._page.addClass(t.options.classes.pagePanel),e.support.cssTransform3d&&!!t.options.animate&&this.element.addClass(t.options.classes.animate),t._bindUpdateLayout(),t._bindCloseEvents(),t._bindLinkListeners(),t._bindPageEvents(),!t.options.dismissible||t._createModal(),t._bindSwipeEvents()},_createModal:function(t){var a=this;a._modal=e("<div class='"+a.options.classes.modal+"' data-panelid='"+a._panelID+"'></div>").on("mousedown",function(){a.close()}).appendTo(this._page)},_getPosDisplayClasses:function(e){return e+"-position-"+this.options.position+" "+e+"-display-"+this.options.display},_getPanelClasses:function(){var e=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed;return this.options.theme&&(e+=" ui-body-"+this.options.theme),!this.options.positionFixed||(e+=" "+this.options.classes.panelFixed),e},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_bindCloseEvents:function(){var e=this;e._closeLink.on("click.panel",function(t){return t.preventDefault(),e.close(),!1}),e.element.on("click.panel","a:jqmData(ajax='false')",function(t){e.close()})},_positionPanel:function(){var t=this,a=t._pannelInner.outerHeight(),i=a>e.mobile.getScreenHeight();i||!t.options.positionFixed?(i&&(t._unfixPanel(),e.mobile.resetActivePageHeight(a)),t._scrollIntoView(a)):t._fixPanel()},_scrollIntoView:function(a){a<e(t).scrollTop()&&t.scrollTo(0,0)},_bindFixListener:function(){this._on(e(t),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(e(t),"throttledresize")},_unfixPanel:function(){!!this.options.positionFixed&&e.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){!!this.options.positionFixed&&e.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var e=this;e.element.on("updatelayout",function(t){e._open&&e._positionPanel()})},_bindLinkListeners:function(){var t=this;t._page.on("click.panel","a",function(a){if(this.href.split("#")[1]===t._panelID&&t._panelID!==i){a.preventDefault();var n=e(this);return n.hasClass("ui-link")||(n.addClass(e.mobile.activeBtnClass),t.element.one("panelopen panelclose",function(){n.removeClass(e.mobile.activeBtnClass)})),t.toggle(),!1}})},_bindSwipeEvents:function(){var e=this,t=e._modal?e.element.add(e._modal):e.element;!e.options.swipeClose||("left"===e.options.position?t.on("swipeleft.panel",function(t){e.close()}):t.on("swiperight.panel",function(t){e.close()}))},_bindPageEvents:function(){var e=this;e._page.on("panelbeforeopen",function(t){e._open&&t.target!==e.element[0]&&e.close()}).on("pagehide",function(t){e._open&&e.close(!0)}).on("keyup.panel",function(t){27===t.keyCode&&e._open&&e.close()})},_open:!1,_contentWrapOpenClasses:null,_fixedToolbarOpenClasses:null,_modalOpenClasses:null,open:function(t){if(!this._open){var a=this,i=a.options,n=function(){a._page.off("panelclose"),a._page.jqmData("panel","open"),!t&&e.support.cssTransform3d&&i.animate?a.element.add(a._wrapper).on(a._transitionEndEvents,o):setTimeout(o,0),a.options.theme&&"overlay"!==a.options.display&&a._page.removeClass(a._pageTheme).addClass("ui-body-"+a.options.theme),a.element.removeClass(i.classes.panelClosed).addClass(i.classes.panelOpen),a._contentWrapOpenClasses=a._getPosDisplayClasses(i.classes.contentWrap),a._wrapper.removeClass(i.classes.contentWrapClosed).addClass(a._contentWrapOpenClasses+" "+i.classes.contentWrapOpen),a._fixedToolbarOpenClasses=a._getPosDisplayClasses(i.classes.contentFixedToolbar),a._fixedToolbar.removeClass(i.classes.contentFixedToolbarClosed).addClass(a._fixedToolbarOpenClasses+" "+i.classes.contentFixedToolbarOpen),a._modalOpenClasses=a._getPosDisplayClasses(i.classes.modal)+" "+i.classes.modalOpen,a._modal&&a._modal.addClass(a._modalOpenClasses)},o=function(){
a.element.add(a._wrapper).off(a._transitionEndEvents,o),a._page.addClass(i.classes.pagePanelOpen),a._positionPanel(),a._bindFixListener(),a._trigger("open")};this.element.closest(".ui-page-active").length<0&&(t=!0),a._trigger("beforeopen"),"open"===a._page.jqmData("panel")?a._page.on("panelclose",function(){n()}):n(),a._open=!0}},close:function(t){if(this._open){var a=this.options,i=this,n=function(){!t&&e.support.cssTransform3d&&a.animate?i.element.add(i._wrapper).on(i._transitionEndEvents,o):setTimeout(o,0),i._page.removeClass(a.classes.pagePanelOpen),i.element.removeClass(a.classes.panelOpen),i._wrapper.removeClass(a.classes.contentWrapOpen),i._fixedToolbar.removeClass(a.classes.contentFixedToolbarOpen),i._modal&&i._modal.removeClass(i._modalOpenClasses)},o=function(){i.options.theme&&"overlay"!==i.options.display&&i._page.removeClass("ui-body-"+i.options.theme).addClass(i._pageTheme),i.element.add(i._wrapper).off(i._transitionEndEvents,o),i.element.addClass(a.classes.panelClosed),i._wrapper.removeClass(i._contentWrapOpenClasses).addClass(a.classes.contentWrapClosed),i._fixedToolbar.removeClass(i._fixedToolbarOpenClasses).addClass(a.classes.contentFixedToolbarClosed),i._fixPanel(),i._unbindFixListener(),e.mobile.resetActivePageHeight(),i._page.jqmRemoveData("panel"),i._trigger("close")};this.element.closest(".ui-page-active").length<0&&(t=!0),i._trigger("beforeclose"),n(),i._open=!1}},toggle:function(e){this[this._open?"close":"open"]()},_transitionEndEvents:"webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",_destroy:function(){var t=this.options.classes,a=this.options.theme,i=this.element.siblings("."+t.panel).length;i?this._open&&(this._wrapper.removeClass(t.contentWrapOpen),this._fixedToolbar.removeClass(t.contentFixedToolbarOpen),this._page.jqmRemoveData("panel"),this._page.removeClass(t.pagePanelOpen),a&&this._page.removeClass("ui-body-"+a).addClass(this._pageTheme)):(this._wrapper.children().unwrap(),this._page.find("a").unbind("panelopen panelclose"),this._page.removeClass(t.pagePanel),this._open&&(this._page.jqmRemoveData("panel"),this._page.removeClass(t.pagePanelOpen),a&&this._page.removeClass("ui-body-"+a).addClass(this._pageTheme),e.mobile.resetActivePageHeight())),this._pannelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),t.panelAnimate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._closeLink.off("click.panel"),this._modal&&this._modal.remove(),this.element.off(this._transitionEndEvents).removeClass([t.panelUnfixed,t.panelClosed,t.panelOpen].join(" "))}}),e(a).bind("pagecreate create",function(t){e.mobile.panel.prototype.enhanceWithin(t.target)})}(e),function(e,i){function n(e,t,a,i){var n=i;return n=t>e?a+(e-t)/2:Math.min(Math.max(a,i-t/2),a+e-t)}function o(){var a=e.mobile.window;return{x:a.scrollLeft(),y:a.scrollTop(),cx:t.innerWidth||a.width(),cy:t.innerHeight||a.height()}}e.widget("mobile.popup",e.mobile.widget,{options:{theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,initSelector:":jqmData(role='popup')",closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,history:!e.mobile.browser.oldIE},_eatEventAndClose:function(e){return e.preventDefault(),e.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var e=this._ui.container.outerHeight(!0);this._ui.screen.removeAttr("style"),e>this._ui.screen.height()&&this._ui.screen.height(e)},_handleWindowKeyUp:function(t){return this._isOpen&&t.keyCode===e.mobile.keyCode.ESCAPE?this._eatEventAndClose(t):void 0},_expectResizeEvent:function(){var t=o();if(this._resizeData){if(t.x===this._resizeData.winCoords.x&&t.y===this._resizeData.winCoords.y&&t.cx===this._resizeData.winCoords.cx&&t.cy===this._resizeData.winCoords.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:setTimeout(e.proxy(this,"_resizeTimeout"),200),winCoords:t},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_ignoreResizeEvents:function(){var e=this;this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=setTimeout(function(){e._ignoreResizeTo=0},1e3)},_handleWindowResize:function(e){this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent()||this._orientationchangeInProgress)&&!this._ui.container.hasClass("ui-popup-hidden")&&this._ui.container.addClass("ui-popup-hidden").removeAttr("style")},_handleWindowOrientationchange:function(e){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(t){var i,n=t.target,o=this._ui;if(this._isOpen){if(n!==o.container[0]){if(i=e(t.target),0===i.parents().filter(o.container[0]).length)return e(a.activeElement).one("focus",function(e){i.blur()}),o.focusElement.focus(),t.preventDefault(),t.stopImmediatePropagation(),!1;o.focusElement[0]===o.container[0]&&(o.focusElement=i)}else o.focusElement&&o.focusElement[0]!==o.container[0]&&(o.container.blur(),o.focusElement.focus());this._ignoreResizeEvents()}},_create:function(){var t={screen:e("<div class='ui-screen-hidden ui-popup-screen'></div>"),placeholder:e("<div style='display: none;'><!-- placeholder --></div>"),container:e("<div class='ui-popup-container ui-popup-hidden'></div>")},a=this.element.closest(".ui-page"),n=this.element.attr("id"),o=this;this.options.history=this.options.history&&e.mobile.ajaxEnabled&&e.mobile.hashListeningEnabled,0===a.length&&(a=e("body")),this.options.container=this.options.container||e.mobile.pageContainer,a.append(t.screen),t.container.insertAfter(t.screen),t.placeholder.insertAfter(this.element),n&&(t.screen.attr("id",n+"-screen"),t.container.attr("id",n+"-popup"),t.placeholder.html("<!-- placeholder for "+n+" -->")),t.container.append(this.element),t.focusElement=t.container,this.element.addClass("ui-popup"),e.extend(this,{_scrollTop:0,_page:a,_ui:t,_fallbackTransition:"",_currentTransition:!1,_prereqs:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),e.each(this.options,function(e,t){o.options[e]=i,o._setOption(e,t,!0)}),t.screen.bind("vclick",e.proxy(this,"_eatEventAndClose")),this._on(e.mobile.window,{orientationchange:e.proxy(this,"_handleWindowOrientationchange"),resize:e.proxy(this,"_handleWindowResize"),keyup:e.proxy(this,"_handleWindowKeyUp")}),this._on(e.mobile.document,{focusin:e.proxy(this,"_handleDocumentFocusIn")})},_applyTheme:function(e,t,a){for(var i,n=(e.attr("class")||"").split(" "),o=null,s=String(t);n.length>0;){if(o=n.pop(),i=new RegExp("^ui-"+a+"-([a-z])$").exec(o),i&&i.length>1){o=i[1];break}o=null}t!==o&&(e.removeClass("ui-"+a+"-"+o),null!==t&&"none"!==t&&e.addClass("ui-"+a+"-"+s))},_setTheme:function(e){this._applyTheme(this.element,e,"body")},_setOverlayTheme:function(e){this._applyTheme(this._ui.screen,e,"overlay"),this._isOpen&&this._ui.screen.addClass("in")},_setShadow:function(e){this.element.toggleClass("ui-overlay-shadow",e)},_setCorners:function(e){this.element.toggleClass("ui-corner-all",e)},_applyTransition:function(t){this._ui.container.removeClass(this._fallbackTransition),t&&"none"!==t&&(this._fallbackTransition=e.mobile._maybeDegradeTransition(t),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))},_setTransition:function(e){this._currentTransition||this._applyTransition(e)},_setTolerance:function(t){var a={t:30,r:15,b:30,l:15};if(t!==i){var n=String(t).split(",");switch(e.each(n,function(e,t){n[e]=parseInt(t,10)}),n.length){case 1:isNaN(n[0])||(a.t=a.r=a.b=a.l=n[0]);break;case 2:isNaN(n[0])||(a.t=a.b=n[0]),isNaN(n[1])||(a.l=a.r=n[1]);break;case 4:isNaN(n[0])||(a.t=n[0]),isNaN(n[1])||(a.r=n[1]),isNaN(n[2])||(a.b=n[2]),isNaN(n[3])||(a.l=n[3])}}this._tolerance=a},_setOption:function(t,a){var n,o="_set"+t.charAt(0).toUpperCase()+t.slice(1);this[o]!==i&&this[o](a),n=["initSelector","closeLinkSelector","closeLinkEvents","navigateEvents","closeEvents","history","container"],e.mobile.widget.prototype._setOption.apply(this,arguments),-1===e.inArray(t,n)&&this.element.attr("data-"+(e.mobile.ns||"")+t.replace(/([A-Z])/,"-$1").toLowerCase(),a)},_placementCoords:function(e){var t,i,s=o(),r={x:this._tolerance.l,y:s.y+this._tolerance.t,cx:s.cx-this._tolerance.l-this._tolerance.r,cy:s.cy-this._tolerance.t-this._tolerance.b};this._ui.container.css("max-width",r.cx),t={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},i={x:n(r.cx,t.cx,r.x,e.x),y:n(r.cy,t.cy,r.y,e.y)},i.y=Math.max(0,i.y);var l=a.documentElement,c=a.body,d=Math.max(l.clientHeight,c.scrollHeight,c.offsetHeight,l.scrollHeight,l.offsetHeight);return i.y-=Math.min(i.y,Math.max(0,i.y+t.cy-d)),{left:i.x,top:i.y}},_createPrereqs:function(t,a,i){var n,o=this;n={screen:e.Deferred(),container:e.Deferred()},n.screen.then(function(){n===o._prereqs&&t()}),n.container.then(function(){n===o._prereqs&&a()}),e.when(n.screen,n.container).done(function(){n===o._prereqs&&(o._prereqs=null,i())}),o._prereqs=n},_animate:function(t){return this._ui.screen.removeClass(t.classToRemove).addClass(t.screenClassToAdd),t.prereqs.screen.resolve(),t.transition&&"none"!==t.transition&&(t.applyTransition&&this._applyTransition(t.transition),this._fallbackTransition)?void this._ui.container.animationComplete(e.proxy(t.prereqs.container,"resolve")).addClass(t.containerClassToAdd).removeClass(t.classToRemove):(this._ui.container.removeClass(t.classToRemove),void t.prereqs.container.resolve())},_desiredCoords:function(t){var a,i=null,n=o(),s=t.x,r=t.y,l=t.positionTo;if(l&&"origin"!==l)if("window"===l)s=n.cx/2+n.x,r=n.cy/2+n.y;else{try{i=e(l)}catch(c){i=null}i&&(i.filter(":visible"),0===i.length&&(i=null))}return i&&(a=i.offset(),s=a.left+i.outerWidth()/2,r=a.top+i.outerHeight()/2),("number"!==e.type(s)||isNaN(s))&&(s=n.cx/2+n.x),("number"!==e.type(r)||isNaN(r))&&(r=n.cy/2+n.y),{x:s,y:r}},_reposition:function(e){e={x:e.x,y:e.y,positionTo:e.positionTo},this._trigger("beforeposition",e),this._ui.container.offset(this._placementCoords(this._desiredCoords(e)))},reposition:function(e){this._isOpen&&this._reposition(e)},_openPrereqsComplete:function(){this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),this._ui.container.attr("tabindex","0").focus(),this._ignoreResizeEvents(),this._trigger("afteropen")},_open:function(t){var a=e.extend({},this.options,t),i=function(){var e=navigator.userAgent,t=e.match(/AppleWebKit\/([0-9\.]+)/),a=!!t&&t[1],i=e.match(/Android (\d+(?:\.\d+))/),n=!!i&&i[1],o=e.indexOf("Chrome")>-1;return null!==i&&"4.0"===n&&a&&a>534.13&&!o?!0:!1}();this._createPrereqs(e.noop,e.noop,e.proxy(this,"_openPrereqsComplete")),this._currentTransition=a.transition,this._applyTransition(a.transition),this.options.theme||this._setTheme(this._page.jqmData("theme")||e.mobile.getInheritedTheme(this._page,"c")),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-hidden"),this._reposition(a),this.options.overlayTheme&&i&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:a.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prereqs:this._prereqs})},_closePrereqScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrereqContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden").removeAttr("style")},_closePrereqsDone:function(){this.options;this._ui.container.removeAttr("tabindex"),e.mobile.popup.active=i,this._trigger("afterclose")},_close:function(t){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrereqs(e.proxy(this,"_closePrereqScreen"),e.proxy(this,"_closePrereqContainer"),e.proxy(this,"_closePrereqsDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:t?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prereqs:this._prereqs})},_unenhance:function(){this._setTheme("none"),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove()},_destroy:function(){e.mobile.popup.active===this?(this.element.one("popupafterclose",e.proxy(this,"_unenhance")),this.close()):this._unenhance()},_closePopup:function(a,i){var n,o,s=this.options,r=!1;t.scrollTo(0,this._scrollTop),a&&"pagebeforechange"===a.type&&i&&(n="string"==typeof i.toPage?i.toPage:i.toPage.jqmData("url"),n=e.mobile.path.parseUrl(n),o=n.pathname+n.search+n.hash,this._myUrl!==e.mobile.path.makeUrlAbsolute(o)?r=!0:a.preventDefault()),s.container.unbind(s.closeEvents),this.element.undelegate(s.closeLinkSelector,s.closeLinkEvents),this._close(r)},_bindContainerClose:function(){this.options.container.one(this.options.closeEvents,e.proxy(this,"_closePopup"))},open:function(a){var i,n,o,s,r,l,c=this,d=this.options;if(!e.mobile.popup.active)return e.mobile.popup.active=this,this._scrollTop=e.mobile.window.scrollTop(),d.history?(l=e.mobile.urlHistory,n=e.mobile.dialogHashKey,o=e.mobile.activePage,s=o.is(".ui-dialog"),this._myUrl=i=l.getActive().url,(r=i.indexOf(n)>-1&&!s&&l.activeIndex>0)?(c._open(a),void c._bindContainerClose()):(-1!==i.indexOf(n)||s?i=e.mobile.path.parseLocation().hash+n:i+=i.indexOf("#")>-1?n:"#"+n,0===l.activeIndex&&i===l.initialDst&&(i+=n),e(t).one("beforenavigate",function(e){e.preventDefault(),c._open(a),c._bindContainerClose()}),this.urlAltered=!0,e.mobile.navigate(i,{role:"dialog"}),void 0)):(c._open(a),c._bindContainerClose(),c.element.delegate(d.closeLinkSelector,d.closeLinkEvents,function(e){c.close(),e.preventDefault()}),void 0)},close:function(){e.mobile.popup.active===this&&(this._scrollTop=e.mobile.window.scrollTop(),this.options.history&&this.urlAltered?(e.mobile.back(),this.urlAltered=!1):this._closePopup())}}),e.mobile.popup.handleLink=function(t){var a,i=t.closest(":jqmData(role='page')"),n=0===i.length?e("body"):i,o=e(e.mobile.path.parseUrl(t.attr("href")).hash,n[0]);o.data("mobile-popup")&&(a=t.offset(),o.popup("open",{x:a.left+t.outerWidth()/2,y:a.top+t.outerHeight()/2,transition:t.jqmData("transition"),positionTo:t.jqmData("position-to")})),setTimeout(function(){var a=t.parent().parent();a.hasClass("ui-li")&&(t=a.parent()),t.removeClass(e.mobile.activeBtnClass)},300)},e.mobile.document.bind("pagebeforechange",function(t,a){"popup"===a.options.role&&(e.mobile.popup.handleLink(a.options.link),t.preventDefault())}),e.mobile.document.bind("pagecreate create",function(t){e.mobile.popup.prototype.enhanceWithin(t.target,!0)})}(e),function(e,t){e.widget("mobile.table",e.mobile.widget,{options:{classes:{table:"ui-table"},initSelector:":jqmData(role='table')"},_create:function(){var t=this,a=this.element.find("thead tr");this.element.addClass(this.options.classes.table),t.headers=this.element.find("tr:eq(0)").children(),t.allHeaders=t.headers.add(a.children()),a.each(function(){var i=0;e(this).children().each(function(n){var o=parseInt(e(this).attr("colspan"),10),s=":nth-child("+(i+1)+")";if(e(this).jqmData("colstart",i+1),o)for(var r=0;o-1>r;r++)i++,s+=", :nth-child("+(i+1)+")";e(this).jqmData("cells",t.element.find("tr").not(a.eq(0)).not(this).children(s)),i++})})}}),e.mobile.document.bind("pagecreate create",function(t){e.mobile.table.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.widget("mobile.controlgroup",e.mobile.widget,{options:{shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1,initSelector:":jqmData(role='controlgroup')"},_create:function(){var a=this.element,i={inner:e("<div class='ui-controlgroup-controls'></div>"),legend:e("<div role='heading' class='ui-controlgroup-label'></div>")},n=a.children("legend"),o=this;a.wrapInner(i.inner),n.length&&i.legend.append(n).insertBefore(a.children(0)),a.addClass("ui-corner-all ui-controlgroup"),e.extend(this,{_initialRefresh:!0}),e.each(this.options,function(e,a){o.options[e]=t,o._setOption(e,a,!0)})},_init:function(){this.refresh()},_setOption:function(a,i){var n="_set"+a.charAt(0).toUpperCase()+a.slice(1);this[n]!==t&&this[n](i),this._super(a,i),this.element.attr("data-"+(e.mobile.ns||"")+a.replace(/([A-Z])/,"-$1").toLowerCase(),i)},_setType:function(e){this.element.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+e),this.refresh()},_setCorners:function(e){this.element.toggleClass("ui-corner-all",e)},_setShadow:function(e){this.element.toggleClass("ui-shadow",e)},_setMini:function(e){this.element.toggleClass("ui-mini",e)},container:function(){return this.element.children(".ui-controlgroup-controls")},refresh:function(){var t=this.element.find(".ui-btn").not(".ui-slider-handle"),a=this._initialRefresh;e.mobile.checkboxradio&&this.element.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(t,this.options.excludeInvisible?this._getVisibles(t,a):t,a),this._initialRefresh=!1}}),e.widget("mobile.controlgroup",e.mobile.controlgroup,e.mobile.behaviors.addFirstLastClasses),e(function(){e.mobile.document.bind("pagecreate create",function(t){e.mobile.controlgroup.prototype.enhanceWithin(t.target,!0)})})}(e),function(e,t){e.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(e),function(e,t){e.widget("mobile.checkboxradio",e.mobile.widget,{options:{theme:null,mini:!1,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var t=this,i=this.element,n=this.options,o=function(e,t){return e.jqmData(t)||e.closest("form, fieldset").jqmData(t)},s=e(i).closest("label"),r=s.length?s:e(i).closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+i[0].id+"']").first(),l=i[0].type,c=o(i,"mini")||n.mini,d=l+"-on",h=l+"-off",u=o(i,"iconpos"),p="ui-"+d,m="ui-"+h;if("checkbox"===l||"radio"===l){e.extend(this,{label:r,inputtype:l,checkedClass:p,uncheckedClass:m,checkedicon:d,uncheckedicon:h}),n.theme||(n.theme=e.mobile.getInheritedTheme(this.element,"c")),r.buttonMarkup({theme:n.theme,icon:h,shadow:!1,mini:c,iconpos:u});var f=a.createElement("div");f.className="ui-"+l,i.add(r).wrapAll(f),r.bind({vmouseover:function(t){e(this).parent().is(".ui-disabled")&&t.stopPropagation()},vclick:function(e){return i.is(":disabled")?void e.preventDefault():(t._cacheVals(),i.prop("checked","radio"===l&&!0||!i.prop("checked")),i.triggerHandler("click"),t._getInputSet().not(i).prop("checked",!1),t._updateAll(),!1)}}),i.bind({vmousedown:function(){t._cacheVals()},vclick:function(){var a=e(this);a.is(":checked")?(a.prop("checked",!0),t._getInputSet().not(a).prop("checked",!1)):a.prop("checked",!1),t._updateAll()},focus:function(){r.addClass(e.mobile.focusClass)},blur:function(){r.removeClass(e.mobile.focusClass)}}),this._handleFormReset&&this._handleFormReset(),this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){e(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return"checkbox"===this.inputtype?this.element:this.element.closest("form, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var t=this;this._getInputSet().each(function(){var a=e(this);(this.checked||"checkbox"===t.inputtype)&&a.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},refresh:function(){var t=this.element[0],a=" "+e.mobile.activeBtnClass,i=this.checkedClass+(this.element.parents(".ui-controlgroup-horizontal").length?a:""),n=this.label;t.checked?n.removeClass(this.uncheckedClass+a).addClass(i).buttonMarkup({icon:this.checkedicon}):n.removeClass(i).addClass(this.uncheckedClass).buttonMarkup({icon:this.uncheckedicon}),t.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}}),e.widget("mobile.checkboxradio",e.mobile.checkboxradio,e.mobile.behaviors.formReset),e.mobile.document.bind("pagecreate create",function(t){e.mobile.checkboxradio.prototype.enhanceWithin(t.target,!0)})}(e),function(e,t){e.mobile.table.prototype.options.mode="columntoggle",e.mobile.table.prototype.options.columnBtnTheme=null,e.mobile.table.prototype.options.columnPopupTheme=null,e.mobile.table.prototype.options.columnBtnText="Columns...",e.mobile.table.prototype.options.classes=e.extend(e.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"}),e.mobile.document.delegate(":jqmData(role='table')","tablecreate",function(){var t=e(this),a=t.data("mobile-table"),i=a.options,n=e.mobile.ns;if("columntoggle"===i.mode){a.element.addClass(i.classes.columnToggleTable);var o=(t.attr("id")||i.classes.popup)+"-popup",s=e("<a href='#"+o+"' class='"+i.classes.columnBtn+"' data-"+n+"rel='popup' data-"+n+"mini='true'>"+i.columnBtnText+"</a>"),r=e("<div data-"+n+"role='popup' data-"+n+"role='fieldcontain' class='"+i.classes.popup+"' id='"+o+"'></div>"),l=e("<fieldset data-"+n+"role='controlgroup'></fieldset>");a.headers.not("td").each(function(){var t=e(this).jqmData("priority"),a=e(this).add(e(this).jqmData("cells"));t&&(a.addClass(i.classes.priorityPrefix+t),e("<label><input type='checkbox' checked />"+e(this).text()+"</label>").appendTo(l).children(0).jqmData("cells",a).checkboxradio({theme:i.columnPopupTheme}))}),l.appendTo(r),l.on("change","input",function(t){this.checked?e(this).jqmData("cells").removeClass("ui-table-cell-hidden").addClass("ui-table-cell-visible"):e(this).jqmData("cells").removeClass("ui-table-cell-visible").addClass("ui-table-cell-hidden")}),s.insertBefore(t).buttonMarkup({theme:i.columnBtnTheme}),r.insertBefore(t).popup(),a.refresh=function(){l.find("input").each(function(){this.checked="table-cell"===e(this).jqmData("cells").eq(0).css("display"),e(this).checkboxradio("refresh")})},e.mobile.window.on("throttledresize",a.refresh),a.refresh()}})}(e),function(e,t){e.mobile.table.prototype.options.mode="reflow",e.mobile.table.prototype.options.classes=e.extend(e.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"}),e.mobile.document.delegate(":jqmData(role='table')","tablecreate",function(){var t=e(this),a=t.data("mobile-table"),i=a.options;if("reflow"===i.mode){a.element.addClass(i.classes.reflowTable);var n=e(a.allHeaders.get().reverse());n.each(function(t){var a=e(this).jqmData("cells"),n=e(this).jqmData("colstart"),o=a.not(this).filter("thead th").length&&" ui-table-cell-label-top",s=e(this).text();if(""!==s)if(o){var r=parseInt(e(this).attr("colspan"),10),l="";r&&(l="td:nth-child("+r+"n + "+n+")"),a.filter(l).prepend("<b class='"+i.classes.cellLabels+o+"'>"+s+"</b>")}else a.prepend("<b class='"+i.classes.cellLabels+"'>"+s+"</b>")})}})}(e)});
