/*!
 * jquery.calendario.js v1.0.0
 * http://www.codrops.com
 *
 * Licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Copyright 2012, Codrops
 * http://www.codrops.com
 */
!function(t,e){"use strict";t.Calendario=function(e,a){this.$el=t(a),this._init(e)},t.Calendario.defaults={weeks:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekabbrs:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthabbrs:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],displayWeekAbbr:!1,displayMonthAbbr:!1,startIn:1,onDayClick:function(){return!1}},t.Calendario.prototype={_init:function(e){this.options=t.extend(!0,{},t.Calendario.defaults,e),this.today=new Date,this.month=isNaN(this.options.month)||null==this.options.month?this.today.getMonth():this.options.month-1,this.year=isNaN(this.options.year)||null==this.options.year?this.today.getFullYear():this.options.year,this.caldata=this.options.caldata||{},this._generateTemplate(),this._initEvents()},_initEvents:function(){var e=this;this.$el.on("click.calendario","div.fc-row > div",function(){var a=t(this),i=a.index(),s=a.children("div"),n={day:a.children("span.fc-date").text(),month:e.month+1,monthname:e.options.displayMonthAbbr?e.options.monthabbrs[e.month]:e.options.months[e.month],year:e.year,weekday:i+e.options.startIn,weekdayname:e.options.weeks[i+e.options.startIn]};n.day&&e.options.onDayClick(a,s,n)})},_generateTemplate:function(e){var a,i=this._getHead(),s=this._getBody();switch(this.rowTotal){case 4:a="fc-four-rows";break;case 5:a="fc-five-rows";break;case 6:a="fc-six-rows"}this.$cal=t('<div class="fc-calendar '+a+'">').append(i,s),this.$el.find("div.fc-calendar").remove().end().append(this.$cal),e&&e.call()},_getHead:function(){for(var t='<div class="fc-head">',e=0;6>=e;e++){var a=e+this.options.startIn,i=a>6?a-6-1:a;t+="<div>",t+=this.options.displayWeekAbbr?this.options.weekabbrs[i]:this.options.weeks[i],t+="</div>"}return t+="</div>"},_getBody:function(){var t=new Date(this.year,this.month+1,0),e=t.getDate(),a=new Date(this.year,this.month,1);this.startingDay=a.getDay();for(var i='<div class="fc-body clearfix"><div class="fc-row">',s=1,n=0;7>n;n++){for(var r=0;6>=r;r++){var o=this.startingDay-this.options.startIn,l=0>o?6+o+1:o,d="",c=this.month===this.today.getMonth()&&this.year===this.today.getFullYear()&&s===this.today.getDate(),h="";if(e>=s&&(n>0||r>=l)){d+='<span class="fc-date">'+s+'</span><span class="fc-weekday">'+this.options.weekabbrs[r+this.options.startIn>6?r+this.options.startIn-6-1:r+this.options.startIn]+"</span>";var u=(this.month+1<10?"0"+(this.month+1):this.month+1)+"-"+(10>s?"0"+s:s)+"-"+this.year,f=this.caldata[u];f&&(h=f),""!==h&&(d+="<div>"+h+"</div>"),++s}else c=!1;var m=c?"fc-today ":"";""!==h&&(m+="fc-content"),i+=""!==m?'<div class="'+m+'">':"<div>",i+=d,i+="</div>"}if(s>e){this.rowTotal=n+1;break}i+='</div><div class="fc-row">'}return i+="</div></div>"},_isValidDate:function(t){t=t.replace(/-/gi,"");var e=parseInt(t.substring(0,2),10),a=parseInt(t.substring(2,4),10),i=parseInt(t.substring(4,8),10);return 1>e||e>12?!1:1>a||a>31?!1:(4==e||6==e||9==e||11==e)&&a>30?!1:2==e&&(i%400==0||i%4==0)&&i%100!=0&&a>29?!1:2==e&&i%100==0&&a>29?!1:{day:a,month:e,year:i}},_move:function(t,e,a){"previous"===e?"month"===t?(this.year=this.month>0?this.year:--this.year,this.month=this.month>0?--this.month:11):"year"===t&&(this.year=--this.year):"next"===e&&("month"===t?(this.year=this.month<11?this.year:++this.year,this.month=this.month<11?++this.month:0):"year"===t&&(this.year=++this.year)),this._generateTemplate(a)},getYear:function(){return this.year},getMonth:function(){return this.month+1},getMonthName:function(){return this.options.displayMonthAbbr?this.options.monthabbrs[this.month]:this.options.months[this.month]},getCell:function(t){var e=Math.floor((t+this.startingDay-this.options.startIn)/7),a=t+this.startingDay-this.options.startIn-7*e-1;return this.$cal.find("div.fc-body").children("div.fc-row").eq(e).children("div").eq(a).children("div")},setData:function(e){e=e||{},t.extend(this.caldata,e),this._generateTemplate()},gotoNow:function(t){this.month=this.today.getMonth(),this.year=this.today.getFullYear(),this._generateTemplate(t)},"goto":function(t,e,a){this.month=t,this.year=e,this._generateTemplate(a)},gotoPreviousMonth:function(t){this._move("month","previous",t)},gotoPreviousYear:function(t){this._move("year","previous",t)},gotoNextMonth:function(t){this._move("month","next",t)},gotoNextYear:function(t){this._move("year","next",t)}};var a=function(t){e.console&&e.console.error(t)};t.fn.calendario=function(e){var i=t.data(this,"calendario");if("string"==typeof e){var s=Array.prototype.slice.call(arguments,1);this.each(function(){return i?t.isFunction(i[e])&&"_"!==e.charAt(0)?void i[e].apply(i,s):void a("no such method '"+e+"' for calendario instance"):void a("cannot call methods on calendario prior to initialization; attempted to call method '"+e+"'")})}else this.each(function(){i?i._init():i=t.data(this,"calendario",new t.Calendario(e,this))});return i}}(jQuery,window);
