jQuery(document).ready(function(i){"use strict";function o(o,a){var s=(i(".uploaded-file"),i(this));n=a,o.preventDefault(),e?e.open():(e=wp.media.frames.optionsframework_upload=wp.media({title:s.data("choose"),button:{text:s.data("update"),close:!1}}),e.on("select",function(){var o=e.state().get("selection").first();e.close(),n.find(".upload").val(o.attributes.url),"image"==o.attributes.type&&n.find(".screenshot").empty().hide().append('<img src="'+o.attributes.url+'"><a class="remove-image">X</a>').slideDown("fast"),console.log(n),n.find(".upload-button").unbind().addClass("remove-file").removeClass("upload-button").val(optionsframework_l10n.remove),n.find(".anva-background-properties").slideDown(),n.find(".remove-image, .remove-file").on("click",function(){t(i(this).parents(".section"))})})),e.open()}function t(t){t.find(".remove-image").hide(),t.find(".upload").val(""),t.find(".anva-background-properties").hide(),t.find(".screenshot").slideUp(),t.find(".remove-file").unbind().addClass("upload-button").removeClass("remove-file").val(optionsframework_l10n.upload),i(".section-upload .upload-notice").length>0&&i(".upload-button").remove(),t.find(".upload-button").on("click",function(t){o(t,i(this).closest(".section"))})}var e,n;i(".remove-image, .remove-file").on("click",function(){t(i(this).closest(".section"))}),i(".upload-button").click(function(t){o(t,i(this).closest(".section"))})});
